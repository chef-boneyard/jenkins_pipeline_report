---
result: FAILURE
failure_category: network
failure_cause: network reset rubygems.org
timestamp: 2016-04-05 06:14:45 UTC
url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=ubuntu-12.04,project=chefdk,role=builder/186/
trigger_url: http://manhattan.ci.chef.co/job/chefdk-trigger-ad_hoc/107/
duration: 20m50s
logs:
  consoleText:
    242: |2
                               [Software] I | Loading software `chef-dk-complete' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                               [Software] I | Loading software `chef-dk' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                               [Software] I | Loading software `libxml2' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libxml2.rb' using overrides from chefdk.
                               [Software] I | Loading software `zlib' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/zlib.rb' using overrides from chefdk.
    260: |2
                               [Software] I | Loading software `libtool' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libtool.rb' using overrides from chefdk.
                               [Software] I | Loading software `config_guess' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/config_guess.rb' using overrides from chefdk.
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                               [Software] I | Loading software `libyaml' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libyaml.rb' using overrides from chefdk.
                               [Software] I | Loading software `rubygems' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/rubygems.rb' using overrides from chefdk.
    306: |2
                 [Software: config_guess] I | Resolving manifest entry for config_guess
                       [Software: libffi] I | Resolving manifest entry for libffi
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                             [GitFetcher] I | $ git ls-remote "http://git.savannah.gnu.org/r/config.git" "master*"
                         [Software: ruby] I | Resolving manifest entry for ruby
    384: |
      [PathFetcher: chef-dk-gem-binding_of_caller] I | Digesting /var/cache/omnibus/src/chef-dk-gem-binding_of_caller with sha256
                      [Software: chef-dk] I | Resolving manifest entry for chef-dk
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [Software: chef-dk-gem-ruby-shadow] I | Resolving manifest entry for chef-dk-gem-ruby-shadow
      [PathFetcher: chef-dk-gem-ruby-shadow] I | Digesting /var/cache/omnibus/src/chef-dk-gem-ruby-shadow with sha256
    393: |2
       [PathFetcher: chef-dk-gem-hitimes] I | Digesting /var/cache/omnibus/src/chef-dk-gem-hitimes with sha256
          [PathFetcher: chef-dk-gem-json] I | Copying from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/files/chef-dk-gem'
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                   [PathFetcher: chef-dk] I | Digesting /var/cache/omnibus/src/chef-dk with sha256
                   [PathFetcher: chef-dk] I | Digesting /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder with sha256
    7679: |2
                 [GitCache: config_guess] I | $ git -c core.autocrlf=false --git-dir=/var/cache/omnibus/cache/git_cache/opt/chefdk --work-tree=/opt/chefdk add -A -f
                 [GitCache: config_guess] I | Calculating tag
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [GitCache: config_guess] I | dep_list: ["preparation", "zlib", "libiconv", "liblzma", "libxml2", "libxslt", "libarchive", "cacerts", "xproto", "util-macros", "pkg-config-lite", "makedepend", "openssl"]
                 [GitCache: config_guess] I | tag: config_guess-368eab99bf1437a1e5c05d144a76cb603366ae0c7c47a6636239abb8b93cb13f
    9577: |2
                                          D | linking transcoder japanese_euc.so
                                          D | compiling ./enc/iso_8859_16.c
                                          D | configuring -test-/fatal
                                          D | configuring -test-/file
                                          D | configuring -test-/funcall
    9750: |2
                                          D | linking shared-object -test-/bignum.so
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/array/resize'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug-5832'
                                          D | installing default debug libraries
    9760: |2
                                          D | installing default rb_fatal libraries
                                          D | compiling enc_raise.c
                                          D | linking shared-object -test-/fatal/rb_fatal.so
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/funcall'
                                          D | compiling passing_block.c
    9784: |2
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug_reporter'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/marshal/usr'
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/method'
                                          D | compiling break.c
    10263: |2
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug-5832'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/dln/empty'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | installing default resize libraries
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/array/resize'
    10272: |2
                                          D | installing default bignum libraries
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bignum'
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | installing default file libraries
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/file'
    16794: |2
                                          D | 2:  solve (2.0.3) from /opt/chefdk/embedded/lib/ruby/gems/2.1.0/specifications/solve-2.0.3.gemspec
                                          D |
                                          D | Gem::RemoteFetcher::FetchError: Errno::ECONNRESET: Connection reset by peer - SSL_connect (https://rubygems.org/gems/rb-inotify-0.9.7.gem)
                                          D | /opt/chefdk/embedded/lib/ruby/site_ruby/2.1.0/rubygems/remote_fetcher.rb:302:in `rescue in fetch_path'
                                          D | /opt/chefdk/embedded/lib/ruby/site_ruby/2.1.0/rubygems/remote_fetcher.rb:275:in `fetch_path'
    16866: |2
                                          D | continue.
                                          D | Make sure that `gem install rb-inotify -v '0.9.7'` succeeds before bundling.
                       [Builder: chef-dk] W | [1/3] Failed to execute command. Retrying in 10 seconds...
                       [Builder: chef-dk] I | Environment:
                       [Builder: chef-dk] I |   BUNDLE_GEMFILE="/var/cache/omnibus/src/chef-dk/Gemfile"
    26481: |2
                       [Builder: chef-dk] I | Rewrite Gemfile using all properly-installed gems: 1.5937s
                       [Builder: chef-dk] I | Build chef-dk: 215.8181s
      /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/files/chef-dk/build-chef-dk.rb:121:in `block in install_shared_gemfile': undefined local variable or method `shared_gemfile' for #<Omnibus::Builder:0x007f0640006890> (NameError)
        from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `instance_eval'
        from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `block in block'
    26517: |2
        from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `load'
        from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `<main>'
      Build step 'Invoke XShell command' marked build as failure
      Archiving artifacts
      Recording fingerprints
