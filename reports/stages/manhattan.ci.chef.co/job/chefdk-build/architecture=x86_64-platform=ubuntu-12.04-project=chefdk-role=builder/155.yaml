---
result: FAILURE
failure_category: unknown
failure_cause: unknown
timestamp: 2016-03-29 01:59:23 UTC
url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=ubuntu-12.04,project=chefdk,role=builder/155/
trigger_url: http://manhattan.ci.chef.co/job/chefdk-trigger-ad_hoc/83/
duration: 15m47s
logs:
  consoleText:
    240: |2
                               [Software] I | Loading software `preparation' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-e8124b356fed/config/software/preparation.rb' using overrides from chefdk.
                               [Software] I | Loading software `chef-dk' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                               [Software] I | Loading software `libxml2' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-e8124b356fed/config/software/libxml2.rb' using overrides from chefdk.
                               [Software] I | Loading software `zlib' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-e8124b356fed/config/software/zlib.rb' using overrides from chefdk.
    258: |2
                               [Software] I | Loading software `libtool' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-e8124b356fed/config/software/libtool.rb' using overrides from chefdk.
                               [Software] I | Loading software `config_guess' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-e8124b356fed/config/software/config_guess.rb' using overrides from chefdk.
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                               [Software] I | Loading software `libyaml' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-e8124b356fed/config/software/libyaml.rb' using overrides from chefdk.
                               [Software] I | Loading software `rubygems' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-e8124b356fed/config/software/rubygems.rb' using overrides from chefdk.
    285: |2
                      [Software: libtool] I | Resolving manifest entry for libtool
                 [Software: config_guess] I | Resolving manifest entry for config_guess
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                             [GitFetcher] I | $ git ls-remote "http://git.savannah.gnu.org/r/config.git" "master*"
                       [Software: libffi] I | Resolving manifest entry for libffi
    295: |2
                   [NullFetcher: bundler] I | Fetching `bundler' (nothing to fetch)
                   [Software: appbundler] I | Resolving manifest entry for appbundler
                   [Software: appbundler] W | Version jk/multiple-gems for software appbundler was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                   [Software: appbundler] W | Version jk/multiple-gems for software appbundler was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                             [GitFetcher] I | $ git ls-remote "https://github.com/chef/appbundler.git" "jk/multiple-gems*"
                      [Software: chef-dk] I | Resolving manifest entry for chef-dk
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                   [PathFetcher: chef-dk] I | Digesting /var/cache/omnibus/src/chef-dk with sha256
       [Software: rubygems-customization] I | Resolving manifest entry for rubygems-customization
    7578: |2
                 [GitCache: config_guess] I | $ git -c core.autocrlf=false --git-dir=/var/cache/omnibus/cache/git_cache/opt/chefdk --work-tree=/opt/chefdk add -A -f
                 [GitCache: config_guess] I | Calculating tag
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [GitCache: config_guess] I | dep_list: ["preparation", "zlib", "libiconv", "liblzma", "libxml2", "libxslt", "libarchive", "cacerts", "xproto", "util-macros", "pkg-config-lite", "makedepend", "openssl"]
                 [GitCache: config_guess] I | tag: config_guess-68ee5a7eb6ad5cd730ef8cbe9d322ece66f9099a8aff3de68452b8b57762b1bb
    9486: |2
                                          D | linking transcoder escape.so
                                          D | linking transcoder gbk.so
                                          D | configuring -test-/fatal
                                          D | linking encoding emacs_mule.so
                                          D | configuring -test-/file
    9654: |2
                                          D | compiling dataerror.c
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug-3571'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/array/resize'
                                          D | compiling rb_fatal.c
    9663: |2
                                          D | compiling passing_block.c
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug_reporter'
                                          D | linking shared-object -test-/fatal/rb_fatal.so
                                          D | installing default exception libraries
                                          D | linking shared-object -test-/exception.so
    9699: |2
                                          D | installing default usr libraries
                                          D | linking shared-object -test-/marshal/usr.so
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | compiling arity.c
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/old_thread_select'
    10175: |2
                                          D | installing default exception libraries
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/exception'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/marshal/compat'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/funcall'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/load/dot.dot'
                                          D | installing default rb_fatal libraries
                                          D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/marshal/usr'
                                          D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/method'
    10724: |2
                    [Builder: appbundler] I | Starting build
                    [Builder: appbundler] I | Cached builder checksum before build: 7235177dbedbf2efc557300799e7f11d214756bda19c2a87b982720f4401fca5
                   [Software: appbundler] W | Version jk/multiple-gems for software appbundler was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                    [Builder: appbundler] I | Version overridden from master to jk/multiple-gems
                    [Builder: appbundler] I | Environment:
    10789: |2
                   [GitCache: appbundler] I | $ git -c core.autocrlf=false --git-dir=/var/cache/omnibus/cache/git_cache/opt/chefdk --work-tree=/opt/chefdk add -A -f
                   [GitCache: appbundler] I | Calculating tag
                   [Software: appbundler] W | Version jk/multiple-gems for software appbundler was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                   [Software: appbundler] W | Version jk/multiple-gems for software appbundler was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                   [GitCache: appbundler] I | dep_list: ["preparation", "zlib", "libiconv", "liblzma", "libxml2", "libxslt", "libarchive", "cacerts", "xproto", "util-macros", "pkg-config-lite", "makedepend", "openssl", "config_guess", "libtool", "libffi", "libyaml", "ruby", "rubygems", "bundler"]
                   [GitCache: appbundler] I | tag: appbundler-650ca36c766e85e8def3800066b8957f873ed6e62672945f1861f6395704d905
    11425: |2
                                          D | will point to the gem, not your working copy.
                                          D |
                       [Builder: chef-dk] W | [1/3] Failed to execute command. Retrying in 10 seconds...
                       [Builder: chef-dk] I | Environment:
                       [Builder: chef-dk] I |   CFLAGS="-I/opt/chefdk/embedded/include -O2"
    11450: |2
                                          D | will point to the gem, not your working copy.
                                          D |
                       [Builder: chef-dk] W | [2/3] Failed to execute command. Retrying in 20 seconds...
                       [Builder: chef-dk] I | Environment:
                       [Builder: chef-dk] I |   CFLAGS="-I/opt/chefdk/embedded/include -O2"
    11475: |2
                                          D | will point to the gem, not your working copy.
                                          D |
                       [Builder: chef-dk] W | [3/3] Failed to execute command. Retrying in 40 seconds...
                       [Builder: chef-dk] I | Environment:
                       [Builder: chef-dk] I |   CFLAGS="-I/opt/chefdk/embedded/include -O2"
    11502: |2
                       [Builder: chef-dk] I | Execute: `/opt/chefdk/embedded/bin/appbundler /var/cache/omnibus/src/chef-dk /opt/chefdk/bin berkshelf chef chef-dk chef-vault foodcritic ohai rubocop test-kitchen': 73.5503s
                       [Builder: chef-dk] I | Build chef-dk: 283.2908s
      The following shell command exited with status 1:

          $ CFLAGS=-I/opt/chefdk/embedded/include -O2 CPPFLAGS=-I/opt/chefdk/embedded/include -O2 CXXFLAGS=-I/opt/chefdk/embedded/include -O2 LDFLAGS=-Wl,-rpath,/opt/chefdk/embedded/lib -L/opt/chefdk/embedded/lib LD_RUN_PATH=/opt/chefdk/embedded/lib NOKOGIRI_USE_SYSTEM_LIBRARIES=true PATH=/opt/chefdk/bin:/opt/chefdk/embedded/bin:/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin:/opt/languages/ruby/2.1.5/bin:/usr/local/bin::/usr/local/sbin:/usr/sbin:/usr/bin:/sbin:/bin PKG_CONFIG_PATH=/opt/chefdk/embedded/lib/pkgconfig /opt/chefdk/embedded/bin/appbundler /var/cache/omnibus/src/chef-dk /opt/chefdk/bin berkshelf chef chef-dk chef-vault foodcritic ohai rubocop test-kitchen

      Output:

          (nothing)

      Error:

          Unable to find chef 12.8.7 installed as a gem
      You must install the top-level app as a gem before calling app-bundler
      * appbundler 0.8.0 *

      Usage: appbundler BUNDLE_DIR BINSTUB_DIR [GEM_NAME] [GEM_NAME] ...
    11526: |
      will point to the gem, not your working copy.

      /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/util.rb:101:in `rescue in shellout!'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/util.rb:97:in `shellout!'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:825:in `shellout!'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:84:in `block in command'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:1012:in `instance_eval'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:1012:in `run'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:843:in `block (3 levels) in execute'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:865:in `call'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:865:in `with_retries'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:842:in `block (2 levels) in execute'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/instrumentation.rb:23:in `call'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/instrumentation.rb:23:in `measure'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:841:in `block in execute'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:915:in `call'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:915:in `with_clean_env'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:840:in `execute'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:704:in `block (2 levels) in build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:703:in `each'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:703:in `block in build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/instrumentation.rb:23:in `call'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/instrumentation.rb:23:in `measure'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/builder.rb:702:in `build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/software.rb:1142:in `execute_build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/software.rb:1005:in `build_me'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/project.rb:1077:in `block in build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/project.rb:1076:in `each'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/project.rb:1076:in `build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/cli.rb:83:in `build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor/command.rb:27:in `run'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor/invocation.rb:126:in `invoke_command'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor.rb:359:in `dispatch'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/cli/base.rb:33:in `dispatch'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor/base.rb:440:in `start'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/lib/omnibus/cli.rb:41:in `execute!'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-ccda1685da4c/bin/omnibus:16:in `<top (required)>'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `load'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `<main>'
      Build step 'Invoke XShell command' marked build as failure
      Archiving artifacts
      Recording fingerprints
