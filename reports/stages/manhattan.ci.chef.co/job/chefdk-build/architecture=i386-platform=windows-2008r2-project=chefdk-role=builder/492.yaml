---
result: FAILURE
failure_category: network
failure_cause: network reset
failed_in:
  step: Builder chef-dk-gem-libyajl2
timestamp: 2016-05-25 21:11:38 UTC
url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=i386,platform=windows-2008r2,project=chefdk,role=builder/492/
trigger_url: http://manhattan.ci.chef.co/job/chefdk-trigger-ad_hoc/343/
duration: 1h20m44s
logs:
  consoleText:
    274: |2
                     [Software] I | 2016-05-25T23:07:45+02:00 | Loading software `git-windows' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-ac517c5d158d/config/software/git-windows.rb' using overrides from chefdk.
                     [Software] I | 2016-05-25T23:07:45+02:00 | Loading software `chef-dk' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
            [Software: chef-dk] W | 2016-05-25T23:07:45+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
            [Software: chef-dk] W | 2016-05-25T23:07:45+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                     [Software] I | 2016-05-25T23:07:45+02:00 | Loading software `libxml2' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-ac517c5d158d/config/software/libxml2.rb' using overrides from chefdk.
                     [Software] I | 2016-05-25T23:07:45+02:00 | Loading software `zlib' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-ac517c5d158d/config/software/zlib.rb' using overrides from chefdk.
                     [Software] I | 2016-05-25T23:07:45+02:00 | Loading software `libiconv' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-ac517c5d158d/config/software/libiconv.rb' using overrides from chefdk.
                     [Software] I | 2016-05-25T23:07:45+02:00 | Loading software `config_guess' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-ac517c5d158d/config/software/config_guess.rb' using overrides from chefdk.
       [Software: config_guess] W | 2016-05-25T23:07:45+02:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                     [Software] I | 2016-05-25T23:07:45+02:00 | Loading software `liblzma' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-ac517c5d158d/config/software/liblzma.rb' using overrides from chefdk.
                     [Software] I | 2016-05-25T23:07:45+02:00 | Loading software `libxslt' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-ac517c5d158d/config/software/libxslt.rb' using overrides from chefdk.
    335: |2
                     [Software] I | 2016-05-25T23:07:47+02:00 | Loading software `ruby-windows-devkit' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-ac517c5d158d/config/software/ruby-windows-devkit.rb' using overrides from chefdk.
      [Software: ruby-windows-devkit] I | 2016-05-25T23:07:47+02:00 | Resolving manifest entry for ruby-windows-devkit
      [Software: ruby-windows-devkit] W | 2016-05-25T23:07:47+02:00 | DEPRECATED: project_file (DSL). This is a property of the NetFetcher and will not be publically exposed in the next major release. In general, you should not be using this method in your software definitions as it is an internal implementation detail of the NetFetcher. If you disagree with this statement, you should open an issue on the Omnibus repository on GitHub an explain your use case. For now, I will return the path to the downloaded file on disk, but please rethink the problem you are trying to solve :).
                     [Software] I | 2016-05-25T23:07:47+02:00 | Loading software `chef-dk-remove-docs' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk-remove-docs.rb' using overrides from chefdk.
                     [Software] I | 2016-05-25T23:07:47+02:00 | Loading software `rubygems-customization' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/rubygems-customization.rb' using overrides from chefdk.
    354: |2
       [Software: config_guess] I | 2016-05-25T23:07:47+02:00 | Resolving manifest entry for config_guess
      [NullFetcher: preparation] I | 2016-05-25T23:07:47+02:00 | Fetching `preparation' (nothing to fetch)
       [Software: config_guess] W | 2016-05-25T23:07:47+02:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
            [Software: cacerts] I | 2016-05-25T23:07:47+02:00 | Resolving manifest entry for cacerts
       [Software: config_guess] W | 2016-05-25T23:07:47+02:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                   [GitFetcher] I | 2016-05-25T23:07:47+02:00 | $ git ls-remote "http://git.savannah.gnu.org/r/config.git" "master*"
            [Software: openssl] I | 2016-05-25T23:07:47+02:00 | Resolving manifest entry for openssl
    416: |
      [PathFetcher: chef-dk-gem-cookstyle] I | 2016-05-25T23:07:47+02:00 | Digesting C:/omnibus-ruby/src/chef-dk-gem-cookstyle with sha256
      [PathFetcher: chef-dk-gem-hitimes] I | 2016-05-25T23:07:47+02:00 | Digesting C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
      [Software: chef-dk-gem-ruby-shadow] W | 2016-05-25T23:07:47+02:00 | Version <skip> for software chef-dk-gem-ruby-shadow was not parseable. Comparison methods such as #satisfies? will not be available for this version.
            [Software: chef-dk] W | 2016-05-25T23:07:47+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [PathFetcher: chef-dk-gem-debug_inspector] I | 2016-05-25T23:07:47+02:00 | Digesting C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
      [PathFetcher: chef-dk-gem-binding_of_caller] I | 2016-05-25T23:07:47+02:00 | Digesting C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
    425: |2
                                I | 2016-05-25T23:07:47+02:00 | dafd8e767ec87b90aac62f0fcedd11944c84b50a  refs/heads/master
      [Software: chef-dk-env-customization] I | 2016-05-25T23:07:47+02:00 | Resolving manifest entry for chef-dk-env-customization
      [Software: chef-dk-gem-ruby-shadow] W | 2016-05-25T23:07:47+02:00 | Version <skip> for software chef-dk-gem-ruby-shadow was not parseable. Comparison methods such as #satisfies? will not be available for this version.
            [Software: chef-dk] W | 2016-05-25T23:07:47+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [Software: chef-dk-appbundle] W | 2016-05-25T23:07:47+02:00 | Version local_source for software chef-dk-appbundle was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [Software: chef-dk-powershell-scripts] I | 2016-05-25T23:07:47+02:00 | Resolving manifest entry for chef-dk-powershell-scripts
      [NullFetcher: gem-permissions] I | 2016-05-25T23:07:47+02:00 | Fetching `gem-permissions' (nothing to fetch)
    435: |
      [PathFetcher: chef-dk-gem-ruby-shadow] I | 2016-05-25T23:07:47+02:00 | Digesting C:/omnibus-ruby/src/chef-dk-gem-ruby-shadow with sha256
         [PathFetcher: chef-dk] I | 2016-05-25T23:07:47+02:00 | Digesting C:/omnibus-ruby/src/chef-dk with sha256
      [Software: chef-dk-appbundle] W | 2016-05-25T23:07:47+02:00 | Version local_source for software chef-dk-appbundle was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [GitFetcher: config_guess] I | 2016-05-25T23:07:47+02:00 | $ git -c core.autocrlf=false cat-file -t dafd8e767ec87b90aac62f0fcedd11944c84b50a
      [NullFetcher: chef-dk-powershell-scripts] I | 2016-05-25T23:07:47+02:00 | Fetching `chef-dk-powershell-scripts' (nothing to fetch)
    630: |2
       [GitCache: config_guess] I | 2016-05-25T23:09:50+02:00 | $ git -c core.autocrlf=false --git-dir=C:/omnibus-ruby/cache/git_cache/opscode/chefdk --work-tree=/opscode/chefdk add -A -f
       [GitCache: config_guess] I | 2016-05-25T23:09:50+02:00 | Calculating tag
       [Software: config_guess] W | 2016-05-25T23:09:50+02:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [Software: config_guess] W | 2016-05-25T23:09:50+02:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [GitCache: config_guess] I | 2016-05-25T23:09:50+02:00 | dep_list: ["preparation", "git-windows", "zlib"]
       [GitCache: config_guess] I | 2016-05-25T23:09:50+02:00 | tag: config_guess-e06159ff976ae3c6c4726cc5c60f99a0a8454ca878d7cdc38c59c32d4371ab1c
    18663: |2
                                D | 2016-05-25T23:52:21+02:00 | configuring -test-/dln/empty
                                D | 2016-05-25T23:52:21+02:00 | configuring -test-/exception
                                D | 2016-05-25T23:52:21+02:00 | configuring -test-/fatal
                                D | 2016-05-25T23:52:21+02:00 | configuring -test-/file
                                D | 2016-05-25T23:52:21+02:00 | configuring -test-/funcall
    18807: |2
                                D | 2016-05-25T23:55:20+02:00 | installing default exception libraries
                                D | 2016-05-25T23:55:20+02:00 | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/exception'
                                D | 2016-05-25T23:55:20+02:00 | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                D | 2016-05-25T23:55:20+02:00 | generating rb_fatal-i386-mingw32.def
                                D | 2016-05-25T23:55:20+02:00 | compiling rb_fatal.c
                                D | 2016-05-25T23:55:21+02:00 | linking shared-object -test-/fatal/rb_fatal.so
                                D | 2016-05-25T23:55:21+02:00 | installing default rb_fatal libraries
                                D | 2016-05-25T23:55:21+02:00 | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                D | 2016-05-25T23:55:21+02:00 | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/file'
                                D | 2016-05-25T23:55:21+02:00 | generating file-i386-mingw32.def
    19402: |2
                                D | 2016-05-25T23:59:30+02:00 | installing default exception libraries
                                D | 2016-05-25T23:59:30+02:00 | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/exception'
                                D | 2016-05-25T23:59:31+02:00 | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                D | 2016-05-25T23:59:31+02:00 | installing default rb_fatal libraries
                                D | 2016-05-25T23:59:31+02:00 | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                D | 2016-05-25T23:59:31+02:00 | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/file'
                                D | 2016-05-25T23:59:31+02:00 | installing default file libraries
    21954: |
      [Builder: chef-dk-gem-libyajl2] I | 2016-05-26T00:11:13+02:00 |   RCFLAGS="--target=pe-i386"
      [Builder: chef-dk-gem-libyajl2] I | 2016-05-26T00:11:13+02:00 | $ C:\opscode\chefdk\embedded\bin\gem install libyajl2 -v 1.2.0 --no-doc --no-ri --ignore-dependencies --verbose --
      Slave went offline during the build
      ERROR: Connection was broken: java.io.IOException: Connection timed out
        at sun.nio.ch.FileDispatcherImpl.read0(Native Method)
        at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)
        at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
        at sun.nio.ch.IOUtil.read(IOUtil.java:197)
        at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:379)
        at hudson.remoting.SocketChannelStream$1.read(SocketChannelStream.java:35)
        at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:65)
        at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:109)
        at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:103)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        at hudson.remoting.FlightRecorderInputStream.read(FlightRecorderInputStream.java:90)
        at hudson.remoting.ChunkedInputStream.read(ChunkedInputStream.java:46)
        at hudson.remoting.ChunkedInputStream.readUntilBreak(ChunkedInputStream.java:97)
        at hudson.remoting.ChunkedCommandTransport.readBlock(ChunkedCommandTransport.java:39)
        at hudson.remoting.AbstractSynchronousByteArrayCommandTransport.read(AbstractSynchronousByteArrayCommandTransport.java:34)
        at hudson.remoting.SynchronousCommandTransport$ReaderThread.run(SynchronousCommandTransport.java:48)

      Build step 'Invoke XShell command' marked build as failure
      ERROR: Publisher hudson.tasks.ArtifactArchiver aborted due to exception
      hudson.AbortException: no workspace for chefdk-build/architecture=i386,platform=windows-2008r2,project=chefdk,role=builder #492
        at hudson.tasks.BuildStepCompatibilityLayer.perform(BuildStepCompatibilityLayer.java:72)
        at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)
        at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:761)
        at hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:721)
        at hudson.model.Build$BuildExecution.post2(Build.java:183)
        at hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:670)
        at hudson.model.Run.execute(Run.java:1766)
        at hudson.matrix.MatrixRun.run(MatrixRun.java:146)
        at hudson.model.ResourceController.execute(ResourceController.java:98)
        at hudson.model.Executor.run(Executor.java:374)
      ERROR: Publisher hudson.tasks.Fingerprinter aborted due to exception
      hudson.AbortException: no workspace for chefdk-build/architecture=i386,platform=windows-2008r2,project=chefdk,role=builder #492
        at hudson.tasks.BuildStepCompatibilityLayer.perform(BuildStepCompatibilityLayer.java:72)
        at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)
        at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:761)
        at hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:721)
        at hudson.model.Build$BuildExecution.post2(Build.java:183)
        at hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:670)
        at hudson.model.Run.execute(Run.java:1766)
        at hudson.matrix.MatrixRun.run(MatrixRun.java:146)
        at hudson.model.ResourceController.execute(ResourceController.java:98)
        at hudson.model.Executor.run(Executor.java:374)
      Regular expression run condition: Expression=[^(?!true)$], Label=[true]
      Run condition [Regular expression match] preventing perform for step [[Editable Email Notification]]
steps:
  total: 1h20m44s
  before (setup time): "-3m56s"
  omnibus:
    build:
      total: 1h3m22s
      GitCache: 1h3m22s
      Software: 1h3m22s
      Builder:
        total: 1h3m22s
        git-windows: 20s
        zlib: 1m19s
        libiconv: 4m2s
        liblzma: 2m53s
        libxml2: 5m46s
        libxslt: 4m18s
        libarchive: 5m32s
        openssl: 8m33s
        libffi: 2m28s
        libyaml: 2m31s
        ruby: 13m38s
        rubygems: 18s
        chef-dk-gem-dep-selector-libgecode: 10m22s
      NetFetcher: 38m34s
  after (cleanup time): 21m9s
