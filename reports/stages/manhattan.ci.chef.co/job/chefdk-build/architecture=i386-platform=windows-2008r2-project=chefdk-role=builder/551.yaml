---
result: FAILURE
failure_category: code
failure_cause: Builder delivery-cli
failed_in:
  step: Builder delivery-cli
timestamp: 2016-06-22 18:04:36 UTC
url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=i386,platform=windows-2008r2,project=chefdk,role=builder/551/
trigger_url: http://manhattan.ci.chef.co/job/chefdk-trigger-ad_hoc/381/
duration: 13m18s
logs:
  consoleText:
    271: |2
                     [Software] I | 2016-06-22T19:59:56+02:00 | Loading software `chef-dk-complete' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                     [Software] I | 2016-06-22T19:59:56+02:00 | Loading software `delivery-cli' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-cb6f0afa1cd3/config/software/delivery-cli.rb' using overrides from chefdk.
       [Software: delivery-cli] W | 2016-06-22T19:59:56+02:00 | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [Software: delivery-cli] W | 2016-06-22T19:59:56+02:00 | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                   [GitFetcher] I | 2016-06-22T19:59:56+02:00 | $ git ls-remote "https://github.com/chef/delivery-cli.git" "master*"
                                I | 2016-06-22T19:59:58+02:00 | 6f0501edf800510243a4aab43c4e85ba23e1c381  refs/heads/master
    282: |2
                     [Software] I | 2016-06-22T19:59:58+02:00 | Loading software `git-windows' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-cb6f0afa1cd3/config/software/git-windows.rb' using overrides from chefdk.
                     [Software] I | 2016-06-22T19:59:58+02:00 | Loading software `chef-dk' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
            [Software: chef-dk] W | 2016-06-22T19:59:58+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
            [Software: chef-dk] W | 2016-06-22T19:59:58+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                     [Software] I | 2016-06-22T19:59:58+02:00 | Loading software `libxml2' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-cb6f0afa1cd3/config/software/libxml2.rb' using overrides from chefdk.
                     [Software] I | 2016-06-22T19:59:58+02:00 | Loading software `libiconv' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-cb6f0afa1cd3/config/software/libiconv.rb' using overrides from chefdk.
                     [Software] I | 2016-06-22T19:59:58+02:00 | Loading software `config_guess' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-cb6f0afa1cd3/config/software/config_guess.rb' using overrides from chefdk.
       [Software: config_guess] W | 2016-06-22T19:59:58+02:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                     [Software] I | 2016-06-22T19:59:58+02:00 | Loading software `liblzma' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-cb6f0afa1cd3/config/software/liblzma.rb' using overrides from chefdk.
                     [Software] I | 2016-06-22T19:59:58+02:00 | Loading software `libxslt' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-cb6f0afa1cd3/config/software/libxslt.rb' using overrides from chefdk.
    342: |2
                     [Software] I | 2016-06-22T20:00:01+02:00 | Loading software `ruby-windows-devkit' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-cb6f0afa1cd3/config/software/ruby-windows-devkit.rb' using overrides from chefdk.
      [Software: ruby-windows-devkit] I | 2016-06-22T20:00:01+02:00 | Resolving manifest entry for ruby-windows-devkit
      [Software: ruby-windows-devkit] W | 2016-06-22T20:00:01+02:00 | DEPRECATED: project_file (DSL). This is a property of the NetFetcher and will not be publically exposed in the next major release. In general, you should not be using this method in your software definitions as it is an internal implementation detail of the NetFetcher. If you disagree with this statement, you should open an issue on the Omnibus repository on GitHub an explain your use case. For now, I will return the path to the downloaded file on disk, but please rethink the problem you are trying to solve :).
                     [Software] I | 2016-06-22T20:00:01+02:00 | Loading software `chef-dk-remove-docs' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk-remove-docs.rb' using overrides from chefdk.
                     [Software] I | 2016-06-22T20:00:01+02:00 | Loading software `rubygems-customization' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/rubygems-customization.rb' using overrides from chefdk.
    360: |2
        [Software: preparation] I | 2016-06-22T20:00:01+02:00 | Resolving manifest entry for preparation
      [Software: rust-uninstall] I | 2016-06-22T20:00:01+02:00 | Resolving manifest entry for rust-uninstall
       [Software: delivery-cli] W | 2016-06-22T20:00:01+02:00 | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [Software: config_guess] W | 2016-06-22T20:00:01+02:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [NullFetcher: preparation] I | 2016-06-22T20:00:01+02:00 | Fetching `preparation' (nothing to fetch)
      [NullFetcher: rust-uninstall] I | 2016-06-22T20:00:01+02:00 | Fetching `rust-uninstall' (nothing to fetch)
       [Software: delivery-cli] W | 2016-06-22T20:00:01+02:00 | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [Software: config_guess] W | 2016-06-22T20:00:01+02:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
            [Software: liblzma] I | 2016-06-22T20:00:01+02:00 | Resolving manifest entry for liblzma
            [Software: libxml2] I | 2016-06-22T20:00:01+02:00 | Resolving manifest entry for libxml2
    436: |
      [PathFetcher: chef-dk-gem-hitimes] I | 2016-06-22T20:00:02+02:00 | Digesting C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
      [Software: chef-dk-gem-ruby-shadow] I | 2016-06-22T20:00:02+02:00 | Resolving manifest entry for chef-dk-gem-ruby-shadow
      [Software: chef-dk-gem-ruby-shadow] W | 2016-06-22T20:00:02+02:00 | Version <skip> for software chef-dk-gem-ruby-shadow was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [Software: chef-dk-gem-ruby-shadow] W | 2016-06-22T20:00:02+02:00 | Version <skip> for software chef-dk-gem-ruby-shadow was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [PathFetcher: chef-dk-gem-ruby-shadow] I | 2016-06-22T20:00:02+02:00 | Digesting C:/omnibus-ruby/src/chef-dk-gem-ruby-shadow with sha256
      [PathFetcher: chef-dk-gem-debug_inspector] I | 2016-06-22T20:00:02+02:00 | Digesting C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
            [Software: chef-dk] I | 2016-06-22T20:00:02+02:00 | Resolving manifest entry for chef-dk
            [Software: chef-dk] W | 2016-06-22T20:00:02+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
            [Software: chef-dk] W | 2016-06-22T20:00:02+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
         [PathFetcher: chef-dk] I | 2016-06-22T20:00:02+02:00 | Digesting C:/omnibus-ruby/src/chef-dk with sha256
                                I | 2016-06-22T20:00:02+02:00 | fatal: git cat-file: could not get object info
      [PathFetcher: chef-dk-gem-binding_of_caller] I | 2016-06-22T20:00:02+02:00 | Digesting C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
                                I | 2016-06-22T20:00:02+02:00 | commit
    454: |
      [Software: chef-dk-appbundle] I | 2016-06-22T20:00:02+02:00 | Resolving manifest entry for chef-dk-appbundle
      [Software: gem-permissions] I | 2016-06-22T20:00:02+02:00 | Resolving manifest entry for gem-permissions
      [Software: chef-dk-appbundle] W | 2016-06-22T20:00:02+02:00 | Version local_source for software chef-dk-appbundle was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [Software: chef-dk-env-customization] I | 2016-06-22T20:00:02+02:00 | Resolving manifest entry for chef-dk-env-customization
      [PathFetcher: chef-dk-env-customization] I | 2016-06-22T20:00:02+02:00 | Digesting C:/omnibus-ruby/src/chef-dk-env-customization with sha256
      [Software: chef-dk-powershell-scripts] I | 2016-06-22T20:00:02+02:00 | Resolving manifest entry for chef-dk-powershell-scripts
      [Software: chef-dk-appbundle] W | 2016-06-22T20:00:02+02:00 | Version local_source for software chef-dk-appbundle was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [NullFetcher: gem-permissions] I | 2016-06-22T20:00:02+02:00 | Fetching `gem-permissions' (nothing to fetch)
      [NullFetcher: chef-dk-powershell-scripts] I | 2016-06-22T20:00:02+02:00 | Fetching `chef-dk-powershell-scripts' (nothing to fetch)
    3429: |2
        [Builder: delivery-cli] I | 2016-06-22T20:09:26+02:00 | Execute: `cargo build -j 10 --release': 141.5884s
        [Builder: delivery-cli] I | 2016-06-22T20:09:26+02:00 | Build delivery-cli: 141.6508s
      The following shell command exited with status 101:

          $ CFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 CPPFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 CXXFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 DELIV_CLI_GIT_SHA=6f0501edf800510243a4aab43c4e85ba23e1c381 DELIV_CLI_VERSION=master LDFLAGS=-LC:/opscode/chefdk/embedded/lib -m32 LD_RUN_PATH=C:/opscode/chefdk/embedded/lib OPENSSL_LIB_DIR=C:/opscode/chefdk/embedded/bin PKG_CONFIG_PATH=C:/opscode/chefdk/embedded/lib/pkgconfig Path=C:/opscode/chefdk/bin;C:/opscode/chefdk/embedded/bin;C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bin;C:\msys2\bin;C:\msys2\mingw32\bin;C:\msys2\usr\bin;C:\Program Files (x86)\Git\Cmd;C:\Program Files (x86)\Git\libexec\git-core;C:\languages\ruby\2.1.8\bin;C:\wix;C:\Program Files\7-zip;C:\Program Files (x86)\Windows Kits\8.1\bin\x64;C:\Program Files\Java\jre1.8.0_45\bin;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\opscode\chef\bin\ cargo build -j 10 --release

      Output:

          Downloading mime v0.2.1
       Downloading libc v0.2.12
       Downloading clap v2.6.0
       Downloading thread_local v0.2.6
       Downloading num_cpus v0.2.13
       Downloading url v1.1.1
       Downloading cookie v0.2.5
         Compiling vec_map v0.6.0
         Compiling unicode-width v0.1.3
         Compiling matches v0.1.2
         Compiling semver v0.1.20
         Compiling traitobject v0.0.1
         Compiling httparse v1.1.2
         Compiling rustc-serialize v0.3.19
         Compiling log v0.3.6
         Compiling typeable v0.1.2
         Compiling bitflags v0.7.0
         Compiling uuid v0.2.2
         Compiling bitflags v0.5.0
         Compiling libc v0.2.12
         Compiling gcc v0.3.28
         Compiling rustc_version v0.1.7
         Compiling unicode-bidi v0.2.3
         Compiling unicode-normalization v0.1.2
         Compiling hpack v0.2.0
         Compiling mime v0.2.1
         Compiling winapi-build v0.1.1
         Compiling ansi_term v0.7.2
         Compiling pkg-config v0.3.8
         Compiling strsim v0.4.1
         Compiling rand v0.3.14
         Compiling num_cpus v0.2.13
         Compiling user32-sys v0.2.0
         Compiling gdi32-sys v0.2.0
         Compiling kernel32-sys v0.2.2
         Compiling clap v2.6.0
         Compiling idna v0.1.0
         Compiling openssl-sys v0.7.13
         Compiling openssl v0.7.13
         Compiling solicit v0.4.4
         Compiling tempdir v0.3.4
         Compiling language-tags v0.2.2
         Compiling lazy_static v0.2.1
         Compiling openssl-sys-extras v0.7.13
         Compiling winapi v0.2.7
         Compiling url v1.1.1
         Compiling utf8-ranges v0.1.3
         Compiling regex-syntax v0.3.3
         Compiling memchr v0.1.11
         Compiling unicase v1.4.0
         Compiling toml v0.1.30
         Compiling aho-corasick v0.5.2
         Compiling term v0.4.4
         Compiling thread-id v2.0.0
         Compiling time v0.1.35
         Compiling thread_local v0.2.6
         Compiling regex v0.1.71
         Compiling cookie v0.2.5
         Compiling hyper v0.9.3
         Compiling env_logger v0.3.3
         Compiling delivery v0.0.1 (file:///C:/omnibus-ruby/src/delivery-cli)

      Error:

          src/delivery\job\workspace.rs:30:5: 30:26 error: unresolved import `utils::path_to_string`. There is no `path_to_string` in `utils` [E0432]
      src/delivery\job\workspace.rs:30 use utils::path_to_string;
                                           ^~~~~~~~~~~~~~~~~~~~~
      src/delivery\job\workspace.rs:30:5: 30:26 help: run `rustc --explain E0432` to see a detailed explanation
      src/delivery\job\workspace.rs:183:18: 183:31 error: the type of this value must be known in this context
      src/delivery\job\workspace.rs:183             if ! result.status.success() {
                                                         ^~~~~~~~~~~~~
      src/delivery\job\workspace.rs:193:18: 193:35 error: the type of this value must be known in this context
      src/delivery\job\workspace.rs:193             if ! tar_result.status.success() {
                                                         ^~~~~~~~~~~~~~~~~
      src/delivery\job\workspace.rs:203:18: 203:34 error: the type of this value must be known in this context
      src/delivery\job\workspace.rs:203             if ! mv_result.status.success() {
                                                         ^~~~~~~~~~~~~~~~
      src/delivery\job\workspace.rs:223:14: 223:27 error: the type of this value must be known in this context
      src/delivery\job\workspace.rs:223         if ! result.status.success() {
                                                     ^~~~~~~~~~~~~
      src/delivery\job\workspace.rs:234:14: 234:30 error: the type of this value must be known in this context
      src/delivery\job\workspace.rs:234         if ! mv_result.status.success() {
                                                     ^~~~~~~~~~~~~~~~
      src/delivery\job\workspace.rs:352:18: 352:34 error: the type of this value must be known in this context
      src/delivery\job\workspace.rs:352             if ! mv_result.status.success() {
                                                         ^~~~~~~~~~~~~~~~
      error: aborting due to 6 previous errors
      error: Could not compile `delivery`.

      To learn more, run the command again with --verbose.

      C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/util.rb:101:in `rescue in shellout!'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/util.rb:97:in `shellout!'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:818:in `shellout!'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:84:in `block in command'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:1005:in `instance_eval'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:1005:in `run'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:836:in `block (3 levels) in execute'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:858:in `with_retries'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:835:in `block (2 levels) in execute'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/instrumentation.rb:23:in `measure'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:834:in `block in execute'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:908:in `with_clean_env'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:833:in `execute'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:713:in `block (2 levels) in build'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:712:in `each'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:712:in `block in build'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/instrumentation.rb:23:in `measure'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:711:in `build'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/software.rb:1138:in `execute_build'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/software.rb:1001:in `build_me'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/project.rb:1076:in `block in build'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/project.rb:1075:in `each'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/project.rb:1075:in `build'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/cli.rb:84:in `build'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/command.rb:27:in `run'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/invocation.rb:126:in `invoke_command'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor.rb:359:in `dispatch'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/cli/base.rb:33:in `dispatch'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/base.rb:440:in `start'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/cli.rb:42:in `execute!'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/bin/omnibus:16:in `<top (required)>'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bin/omnibus:23:in `load'
        C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bin/omnibus:23:in `<main>'
      Failed with error level 1
      Build step 'Invoke XShell command' marked build as failure
      Archiving artifacts
      Recording fingerprints
steps:
  total: 13m18s
  before (setup time): "-4m44s"
  omnibus:
    total: 9m34s
    fetch: 18s
    build:
      total: 9m15s
      GitCache: 6m41s
      Software: 6m41s
      Builder:
        total: 9m15s
        openssl: 5m35s
        rust: 29s
        delivery-cli: 2m22s
      NetFetcher: 5m54s
      GitFetcher:
        delivery-cli: 12s
        after (cleanup time): "-10s"
  after (cleanup time): 8m29s
