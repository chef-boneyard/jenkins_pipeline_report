---
result: FAILURE
failure_category: unknown
failure_cause: unknown
timestamp: 2016-04-25 20:51:02 UTC
url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=el-7,project=chefdk,role=builder/320/
trigger_url: http://manhattan.ci.chef.co/job/chefdk-trigger-ad_hoc/220/
duration: 20m53s
logs:
  consoleText:
    251: |2
                               [Software] I | Loading software `chef-dk-complete' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                               [Software] I | Loading software `chef-dk' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                               [Software] I | Loading software `libxml2' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-5daff60a38f7/config/software/libxml2.rb' using overrides from chefdk.
                               [Software] I | Loading software `zlib' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-5daff60a38f7/config/software/zlib.rb' using overrides from chefdk.
                               [Software] I | Loading software `libiconv' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-5daff60a38f7/config/software/libiconv.rb' using overrides from chefdk.
                               [Software] I | Loading software `config_guess' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-5daff60a38f7/config/software/config_guess.rb' using overrides from chefdk.
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                               [Software] I | Loading software `liblzma' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-5daff60a38f7/config/software/liblzma.rb' using overrides from chefdk.
                               [Software] I | Loading software `libxslt' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-5daff60a38f7/config/software/libxslt.rb' using overrides from chefdk.
    319: |2
                               [Software] I | Loading software `openssl-customization' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-5daff60a38f7/config/software/openssl-customization.rb' using overrides from chefdk.
                               [Software] I | Loading software `delivery-cli' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-5daff60a38f7/config/software/delivery-cli.rb' using overrides from chefdk.
                 [Software: delivery-cli] W | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [Software: delivery-cli] W | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                             [GitFetcher] I | $ git ls-remote "https://github.com/chef/delivery-cli.git" "master*"
                                          I | 0353dfdb073bb081136e3f692d6abe6d2ed341e9  refs/heads/master
    336: |2
               [NullFetcher: preparation] I | Fetching `preparation' (nothing to fetch)
                 [Software: config_guess] I | Resolving manifest entry for config_guess
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                             [GitFetcher] I | $ git ls-remote "http://git.savannah.gnu.org/r/config.git" "master*"
                         [Software: zlib] I | Resolving manifest entry for zlib
    541: |
      [PathFetcher: chef-dk-gem-ruby-shadow] I | Digesting /var/cache/omnibus/src/chef-dk-gem-ruby-shadow with sha256
                      [Software: chef-dk] I | Resolving manifest entry for chef-dk
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                      [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                   [PathFetcher: chef-dk] I | Digesting /var/cache/omnibus/src/chef-dk with sha256
                   [PathFetcher: chef-dk] I | Digesting /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder with sha256
      ================================================================================|
                    [NetFetcher: libyaml] I | Verifying checksum
            [Software: chef-dk-appbundle] I | Resolving manifest entry for chef-dk-appbundle
            [Software: chef-dk-appbundle] W | Version local_source for software chef-dk-appbundle was not parseable. Comparison methods such as #satisfies? will not be available for this version.
            [Software: chef-dk-appbundle] W | Version local_source for software chef-dk-appbundle was not parseable. Comparison methods such as #satisfies? will not be available for this version.
         [PathFetcher: chef-dk-appbundle] I | Digesting /var/cache/omnibus/src/chef-dk-appbundle with sha256
         [PathFetcher: chef-dk-appbundle] I | Digesting /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/files with sha256
    577: |2
                     [NetFetcher: libffi] I | Verifying checksum
                 [Software: delivery-cli] I | Resolving manifest entry for delivery-cli
                 [Software: delivery-cli] W | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [Software: delivery-cli] W | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                             [GitFetcher] I | $ git ls-remote "https://github.com/chef/delivery-cli.git" "master*"
      ===================                                    I | 0353dfdb073bb081136e3f692d6abe6d2ed341e9  refs/heads/master
    795: |2
                 [GitCache: config_guess] I | $ git -c core.autocrlf=false --git-dir=/var/cache/omnibus/cache/git_cache/opt/chefdk --work-tree=/opt/chefdk add -A -f
                 [GitCache: config_guess] I | Calculating tag
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [GitCache: config_guess] I | dep_list: ["preparation", "zlib"]
                 [GitCache: config_guess] I | tag: config_guess-ce2084a7bf41a33ae6b151f55de3a753dbb6506c68ea3c92a94a1c8076da615f
    6842: |2
                                          D | gcc -std=gnu99  -I.   -I/opt/chefdk/embedded/include -O2  -I/opt/chefdk/embedded/include -O2 -MT exitfail.o -MD -MP -MF $depbase.Tpo -c -o exitfail.o exitfail.c &&\
                                          D | mv -f $depbase.Tpo $depbase.Po
                                          D | depbase=`echo fatal-signal.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
                                          D | gcc -std=gnu99  -I.   -I/opt/chefdk/embedded/include -O2  -I/opt/chefdk/embedded/include -O2 -MT fatal-signal.o -MD -MP -MF $depbase.Tpo -c -o fatal-signal.o fatal-signal.c &&\
                                          D | mv -f $depbase.Tpo $depbase.Po
                                          D | depbase=`echo fd-hook.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
    7041: |2
                                          D | mv -f $depbase.Tpo $depbase.Po
                                          D | rm -f libm4.a
                                          D | ar cru libm4.a gl_avltree_oset.o binary-io.o c-ctype.o c-stack.o c-strcasecmp.o c-strncasecmp.o clean-temp.o cloexec.o close-stream.o closein.o closeout.o dirname.o basename.o dirname-lgpl.o basename-lgpl.o stripslash.o execute.o exitfail.o fatal-signal.o fd-hook.o fd-safer-flag.o dup-safer-flag.o filenamecat.o filenamecat-lgpl.o fopen-safer.o freading.o gl_linkedhash_list.o gl_list.o localcharset.o glthread/lock.o malloca.o math.o memchr2.o gl_oset.o pipe2.o pipe2-safer.o printf-frexp.o printf-frexpl.o progname.o quotearg.o sig-handler.o spawn-pipe.o mkstemp-safer.o tempname.o glthread/threadlib.o glthread/tls.o tmpdir.o unistd.o dup-safer.o fd-safer.o pipe-safer.o verror.o version-etc.o version-etc-fsf.o wait-process.o wctype-h.o xmalloc.o xalloc-die.o gl_xlist.o xmalloca.o gl_xoset.o xprintf.o xsize.o xstrndup.o xvasprintf.o xasprintf.o asnprintf.o asprintf.o fclose.o fcntl.o fflush.o fpurge.o freadahead.o fseek.o fseeko.o isnanl.o printf-args.o printf-parse.o strstr.o vasnprintf.o vasprintf.o
                                          D | ranlib libm4.a
                                          D | gmake[3]: Leaving directory `/var/cache/omnibus/src/m4/m4-1.4.17/lib'
    13738: |2
                                          D | configuring -test-/exception
                                          D | compiling ./enc/trans/gb18030.c
                                          D | configuring -test-/fatal
                                          D | configuring -test-/file
                                          D | configuring -test-/funcall
    13942: |2
                                          D | compiling ensured.c
                                          D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/array/resize'
                                          D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | compiling init.c
                                          D | installing default empty libraries
    13971: |2
                                          D | linking shared-object -test-/exception.so
                                          D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/load/dot.dot'
                                          D | linking shared-object -test-/fatal/rb_fatal.so
                                          D | installing default file libraries
                                          D | compiling dot.dot.c
    13996: |2
                                          D | linking shared-object -test-/iter.so
                                          D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/exception'
                                          D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/old_thread_select'
                                          D | installing default compat libraries
    14484: |2
                                          D | installing default exception libraries
                                          D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/exception'
                                          D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | installing default rb_fatal libraries
                                          D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                          D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/funcall'
                                          D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/file'
    19982: |2
                       [Builder: chef-dk] I | bundle `install --verbose': 0.8813s
                       [Builder: chef-dk] I | Build chef-dk: 0.8847s
      The following shell command exited with status 16:

          $ BUNDLE_GEMFILE=/var/cache/omnibus/src/chef-dk/Gemfile CFLAGS=-I/opt/chefdk/embedded/include -O2 CPPFLAGS=-I/opt/chefdk/embedded/include -O2 CXXFLAGS=-I/opt/chefdk/embedded/include -O2 LDFLAGS=-Wl,-rpath,/opt/chefdk/embedded/lib -L/opt/chefdk/embedded/lib LD_RUN_PATH=/opt/chefdk/embedded/lib NOKOGIRI_USE_SYSTEM_LIBRARIES=true PATH=/opt/chefdk/bin:/opt/chefdk/embedded/bin:/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin:/opt/languages/ruby/2.1.5/bin:/usr/local/bin::/usr/local/sbin:/usr/sbin:/usr/bin:/sbin:/bin PKG_CONFIG_PATH=/opt/chefdk/embedded/lib/pkgconfig /opt/chefdk/embedded/bin/bundle install --verbose

      Output:

          You are trying to install in deployment mode after changing
      your Gemfile. Run `bundle install` elsewhere and add the
      updated Gemfile.lock to version control.

      If this is a development machine, remove the
      /var/cache/omnibus/src/chef-dk/Gemfile freeze
      by running `bundle install --no-deployment`.

      You have added to the Gemfile:
      * source: git://github.com/tyler-ball/ffi-rzmq-core.git (at master)
      * fii-rzmq-core

      Error:

          (nothing)

      /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/util.rb:101:in `rescue in shellout!'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/util.rb:97:in `shellout!'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:825:in `shellout!'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:329:in `block in bundle'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:1012:in `instance_eval'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:1012:in `run'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:843:in `block (3 levels) in execute'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:865:in `call'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:865:in `with_retries'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:842:in `block (2 levels) in execute'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/instrumentation.rb:23:in `call'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/instrumentation.rb:23:in `measure'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:841:in `block in execute'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:915:in `call'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:915:in `with_clean_env'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:840:in `execute'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:704:in `block (2 levels) in build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:703:in `each'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:703:in `block in build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/instrumentation.rb:23:in `call'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/instrumentation.rb:23:in `measure'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/builder.rb:702:in `build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/software.rb:1161:in `execute_build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/software.rb:1024:in `build_me'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/project.rb:1077:in `block in build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/project.rb:1076:in `each'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/project.rb:1076:in `build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/cli.rb:84:in `build'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor/command.rb:27:in `run'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor/invocation.rb:126:in `invoke_command'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor.rb:359:in `dispatch'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/cli/base.rb:33:in `dispatch'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor/base.rb:440:in `start'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/lib/omnibus/cli.rb:42:in `execute!'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-201919712a1f/bin/omnibus:16:in `<top (required)>'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `load'
        /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `<main>'
      Build step 'Invoke XShell command' marked build as failure
      Archiving artifacts
      Recording fingerprints
