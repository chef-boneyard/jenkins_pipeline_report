---
result: FAILURE
failure_category: code
failure_cause: Builder ruby
failed_in:
  step: Builder ruby
timestamp: 2016-05-25 17:58:56 UTC
url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=mac_os_x-10.9,project=chefdk,role=builder/486/
trigger_url: http://manhattan.ci.chef.co/job/chefdk-trigger-ad_hoc/339/
duration: 2h32m21s
active_duration: 2h32m21s
retries: 1
logs:
  consoleText:
    248: |2
                     [Software] I | 2016-05-25T10:59:52-07:00 | Loading software `chef-dk-complete' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                     [Software] I | 2016-05-25T10:59:52-07:00 | Loading software `delivery-cli' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-833a71fb1d24/config/software/delivery-cli.rb' using overrides from chefdk.
       [Software: delivery-cli] W | 2016-05-25T10:59:52-07:00 | Version UW-31/delivery-cli-1.8.0-compatibility for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [Software: delivery-cli] W | 2016-05-25T10:59:52-07:00 | Version UW-31/delivery-cli-1.8.0-compatibility for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                   [GitFetcher] I | 2016-05-25T10:59:52-07:00 | $ git ls-remote "https://github.com/chef/delivery-cli.git" "UW-31/delivery-cli-1.8.0-compatibility*"
                                I | 2016-05-25T10:59:52-07:00 | b181ada65446119c91fc3f1eecbbb4bc35ff4ba6  refs/heads/UW-31/delivery-cli-1.8.0-compatibility
    260: |2
                     [Software] I | 2016-05-25T10:59:52-07:00 | Loading software `pkg-config-lite' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-833a71fb1d24/config/software/pkg-config-lite.rb' using overrides from chefdk.
                     [Software] I | 2016-05-25T10:59:52-07:00 | Loading software `config_guess' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-833a71fb1d24/config/software/config_guess.rb' using overrides from chefdk.
       [Software: config_guess] W | 2016-05-25T10:59:52-07:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                     [Software] I | 2016-05-25T10:59:52-07:00 | Loading software `rust' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-833a71fb1d24/config/software/rust.rb' using overrides from chefdk.
                     [Software] I | 2016-05-25T10:59:52-07:00 | Loading software `rust-uninstall' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-833a71fb1d24/config/software/rust-uninstall.rb' using overrides from chefdk.
    271: |2
                     [Software] I | 2016-05-25T10:59:52-07:00 | Loading software `expat' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-833a71fb1d24/config/software/expat.rb' using overrides from chefdk.
                     [Software] I | 2016-05-25T10:59:52-07:00 | Loading software `chef-dk' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
            [Software: chef-dk] W | 2016-05-25T10:59:52-07:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
            [Software: chef-dk] W | 2016-05-25T10:59:52-07:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                     [Software] I | 2016-05-25T10:59:52-07:00 | Loading software `libxml2' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-833a71fb1d24/config/software/libxml2.rb' using overrides from chefdk.
                     [Software] I | 2016-05-25T10:59:52-07:00 | Loading software `liblzma' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-833a71fb1d24/config/software/liblzma.rb' using overrides from chefdk.
    336: |
      [NullFetcher: preparation] I | 2016-05-25T10:59:54-07:00 | Fetching `preparation' (nothing to fetch)
       [Software: config_guess] I | 2016-05-25T10:59:54-07:00 | Resolving manifest entry for config_guess
       [Software: config_guess] W | 2016-05-25T10:59:54-07:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [Software: config_guess] W | 2016-05-25T10:59:54-07:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                   [GitFetcher] I | 2016-05-25T10:59:54-07:00 | $ git ls-remote "http://git.savannah.gnu.org/r/config.git" "master*"
       [Software: delivery-cli] I | 2016-05-25T10:59:54-07:00 | Resolving manifest entry for delivery-cli
       [Software: delivery-cli] W | 2016-05-25T10:59:54-07:00 | Version UW-31/delivery-cli-1.8.0-compatibility for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [Software: delivery-cli] W | 2016-05-25T10:59:54-07:00 | Version UW-31/delivery-cli-1.8.0-compatibility for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                   [GitFetcher] I | 2016-05-25T10:59:54-07:00 | $ git ls-remote "https://github.com/chef/delivery-cli.git" "UW-31/delivery-cli-1.8.0-compatibility*"
               [Software: zlib] I | 2016-05-25T10:59:54-07:00 | Resolving manifest entry for zlib
    435: |
      [PathFetcher: chef-dk-gem-cookstyle] I | 2016-05-25T10:59:54-07:00 | Digesting /var/cache/omnibus/src/chef-dk-gem-cookstyle with sha256
      [PathFetcher: chef-dk-gem-ruby-shadow] I | 2016-05-25T10:59:54-07:00 | Digesting /var/cache/omnibus/src/chef-dk-gem-ruby-shadow with sha256
            [Software: chef-dk] W | 2016-05-25T10:59:54-07:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [Software: chef-dk-appbundle] W | 2016-05-25T10:59:54-07:00 | Version local_source for software chef-dk-appbundle was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [Software: gem-permissions] I | 2016-05-25T10:59:54-07:00 | Resolving manifest entry for gem-permissions
      [Software: chef-dk-remove-docs] I | 2016-05-25T10:59:54-07:00 | Resolving manifest entry for chef-dk-remove-docs
      [PathFetcher: chef-dk-gem-hitimes] I | 2016-05-25T10:59:54-07:00 | Digesting /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
            [Software: chef-dk] W | 2016-05-25T10:59:54-07:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [PathFetcher: chef-dk-gem-binding_of_caller] I | 2016-05-25T10:59:54-07:00 | Digesting /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
      [Software: chef-dk-appbundle] W | 2016-05-25T10:59:54-07:00 | Version local_source for software chef-dk-appbundle was not parseable. Comparison methods such as #satisfies? will not be available for this version.
      [PathFetcher: chef-dk-gem-ruby-shadow] I | 2016-05-25T10:59:54-07:00 | Digesting /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
      [NullFetcher: gem-permissions] I | 2016-05-25T10:59:54-07:00 | Fetching `gem-permissions' (nothing to fetch)
    526: |2
       [GitCache: config_guess] I | 2016-05-25T11:00:03-07:00 | Performing cache restoration
       [GitCache: config_guess] I | 2016-05-25T11:00:03-07:00 | Calculating tag
       [Software: config_guess] W | 2016-05-25T11:00:03-07:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [Software: config_guess] W | 2016-05-25T11:00:03-07:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [GitCache: config_guess] I | 2016-05-25T11:00:03-07:00 | dep_list: ["preparation", "zlib", "cacerts", "xproto", "util-macros"]
       [GitCache: config_guess] I | 2016-05-25T11:00:03-07:00 | tag: config_guess-637b01a72f752a0e09afccf31021761e2bc3b67829e77434f3fede5d685c298a
    849: |2
       [GitCache: delivery-cli] I | 2016-05-25T11:02:33-07:00 | $ git -c core.autocrlf=false --git-dir=/var/cache/omnibus/cache/git_cache/opt/chefdk --work-tree=/opt/chefdk add -A -f
       [GitCache: delivery-cli] I | 2016-05-25T11:02:33-07:00 | Calculating tag
       [Software: delivery-cli] W | 2016-05-25T11:02:33-07:00 | Version UW-31/delivery-cli-1.8.0-compatibility for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [Software: delivery-cli] W | 2016-05-25T11:02:33-07:00 | Version UW-31/delivery-cli-1.8.0-compatibility for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
       [GitCache: delivery-cli] I | 2016-05-25T11:02:33-07:00 | dep_list: ["preparation", "zlib", "cacerts", "xproto", "util-macros", "config_guess", "pkg-config-lite", "makedepend", "openssl", "rust"]
       [GitCache: delivery-cli] I | 2016-05-25T11:02:33-07:00 | tag: delivery-cli-e459cefbcbee51c19dc0c1a96ad412c5d0f6331d01269fad4f37a28dc6ecbf6b
    14093: |2
                                D | 2016-05-25T11:09:39-07:00 |   gcc  -I.   -I/opt/chefdk/embedded/include -O2  -I/opt/chefdk/embedded/include -O2 -MT exitfail.o -MD -MP -MF $depbase.Tpo -c -o exitfail.o exitfail.c &&\
                                D | 2016-05-25T11:09:39-07:00 |   mv -f $depbase.Tpo $depbase.Po
                                D | 2016-05-25T11:09:39-07:00 | depbase=`echo fatal-signal.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
                                D | 2016-05-25T11:09:39-07:00 |   gcc  -I.   -I/opt/chefdk/embedded/include -O2  -I/opt/chefdk/embedded/include -O2 -MT fatal-signal.o -MD -MP -MF $depbase.Tpo -c -o fatal-signal.o fatal-signal.c &&\
                                D | 2016-05-25T11:09:39-07:00 |   mv -f $depbase.Tpo $depbase.Po
                                D | 2016-05-25T11:09:39-07:00 | depbase=`echo fd-hook.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
    14352: |2
                                D | 2016-05-25T11:09:42-07:00 | 1 warning generated.
                                D | 2016-05-25T11:09:42-07:00 | rm -f libm4.a
                                D | 2016-05-25T11:09:42-07:00 | ar cru libm4.a gl_avltree_oset.o binary-io.o c-ctype.o c-stack.o c-strcasecmp.o c-strncasecmp.o clean-temp.o cloexec.o close-stream.o closein.o closeout.o dirname.o basename.o dirname-lgpl.o basename-lgpl.o stripslash.o execute.o exitfail.o fatal-signal.o fd-hook.o fd-safer-flag.o dup-safer-flag.o filenamecat.o filenamecat-lgpl.o fopen-safer.o freading.o gl_linkedhash_list.o gl_list.o localcharset.o glthread/lock.o malloca.o math.o memchr2.o gl_oset.o pipe2.o pipe2-safer.o printf-frexp.o printf-frexpl.o progname.o quotearg.o sig-handler.o spawn-pipe.o mkstemp-safer.o tempname.o glthread/threadlib.o glthread/tls.o tmpdir.o unistd.o dup-safer.o fd-safer.o pipe-safer.o verror.o version-etc.o version-etc-fsf.o wait-process.o wctype-h.o xmalloc.o xalloc-die.o gl_xlist.o xmalloca.o gl_xoset.o xprintf.o xsize.o xstrndup.o xvasprintf.o xasprintf.o asnprintf.o asprintf.o canonicalize-lgpl.o error.o fclose.o fflush.o fpending.o fpurge.o freadahead.o fseek.o fseeko.o getopt.o getopt1.o isnanf.o isnanl.o lstat.o obstack.o open.o printf-args.o printf-parse.o rawmemchr.o readlink.o regex.o rename.o secure_getenv.o stat.o strchrnul.o strerror.o strerror-override.o strstr.o vasnprintf.o vasprintf.o
                                D | 2016-05-25T11:09:42-07:00 | /Library/Developer/CommandLineTools/usr/bin/ranlib: file: libm4.a(binary-io.o) has no symbols
                                D | 2016-05-25T11:09:42-07:00 | /Library/Developer/CommandLineTools/usr/bin/ranlib: file: libm4.a(fd-hook.o) has no symbols
    19215: |2
                                D | 2016-05-25T11:13:27-07:00 | configuring -test-/exception
                                D | 2016-05-25T11:13:27-07:00 | compiling ./enc/emacs_mule.c
                                D | 2016-05-25T11:13:27-07:00 | configuring -test-/fatal
                                D | 2016-05-25T11:13:27-07:00 | configuring -test-/file
                                D | 2016-05-25T11:13:27-07:00 | compiling ./enc/trans/emoji.c
    19352: |2
                [Builder: ruby] I | 2016-05-25T13:31:19-07:00 | Execute: `make -j 10': 8290.2683s
                [Builder: ruby] I | 2016-05-25T13:31:19-07:00 | Build ruby: 8317.7276s
      /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-a36e70caedce/lib/omnibus/exceptions.rb:279:in `initialize': undefined method `exitstatus' for nil:NilClass (NoMethodError)
        from /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-a36e70caedce/lib/omnibus/util.rb:103:in `new'
        from /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-a36e70caedce/lib/omnibus/util.rb:103:in `rescue in shellout!'
    19387: |2
        from /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:22:in `load'
        from /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:22:in `<main>'
      Build step 'Invoke XShell command' marked build as failure
      Archiving artifacts
      Recording fingerprints
steps:
  total: 2h32m21s
  before (setup time): 54s
  omnibus:
    build:
      total: 2h31m19s
      GitCache:
        rust 2: 11s
      Software: 12m38s
      NetFetcher: 12m36s
      Builder:
        total: 2h31m11s
        delivery-cli: 2m7s
        curl: 50s
        ncurses: 1m9s
        libedit: 13s
        pcre: 22s
        libiconv: 33s
        git: 42s
        liblzma: 34s
        libxml2: 46s
        libxslt: 18s
        libarchive: 51s
        m4: 37s
        libtool: 13s
        libsodium: 1m22s
        libzmq: 49s
        ruby: 2h18m38s
