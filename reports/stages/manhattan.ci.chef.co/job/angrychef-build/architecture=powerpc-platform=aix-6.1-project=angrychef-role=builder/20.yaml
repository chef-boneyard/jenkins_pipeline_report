---
result: FAILURE
failure_category: code
failure_cause: gem install ruby-prof -v 0.15.9
timestamp: 2015-12-10 20:47:51 UTC
url: http://manhattan.ci.chef.co/job/angrychef-build/architecture=powerpc,platform=aix-6.1,project=angrychef,role=builder/20/
trigger_url: http://manhattan.ci.chef.co/job/angrychef-trigger-ad_hoc/6/
duration: 13m54s
logs:
  consoleText:
    13137: |2
                                          D | configuring -test-/exception
                                          D | compiling ./enc/trans/emoji_sjis_softbank.c
                                          D | configuring -test-/fatal
                                          D | configuring -test-/file
                                          D | compiling ./enc/trans/escape.c
    13369: |2
                                          D | gmake[2]: Leaving directory '/var/cache/omnibus/src/ruby-2.1.6/ext/-test-/bug_reporter'
                                          D | compiling init.c
                                          D | gmake[2]: Entering directory '/var/cache/omnibus/src/ruby-2.1.6/ext/-test-/fatal'
                                          D | gmake[2]: Entering directory '/var/cache/omnibus/src/ruby-2.1.6/ext/-test-/exception'
                                          D | compiling rb_fatal.c
    13388: |2
                                          D | compiling ensured.c
                                          D | compiling stat.c
                                          D | linking shared-object -test-/fatal/rb_fatal.so
                                          D | compiling init.c
                                          D | installing default file libraries
    13403: |2
                                          D | compiling init.c
                                          D | linking shared-object -test-/debug.so
                                          D | gmake[2]: Leaving directory '/var/cache/omnibus/src/ruby-2.1.6/ext/-test-/fatal'
                                          D | linking shared-object -test-/load/dot.dot/dot.dot.so
                                          D | gmake[2]: Entering directory '/var/cache/omnibus/src/ruby-2.1.6/ext/-test-/marshal/usr'
    15793: |2
                                          D | gmake[2]: Leaving directory '/var/cache/omnibus/src/ruby-2.1.6/ext/-test-/exception'
                                          D | gmake[2]: Entering directory '/var/cache/omnibus/src/ruby-2.1.6/ext/-test-/file'
                                          D | gmake[2]: Entering directory '/var/cache/omnibus/src/ruby-2.1.6/ext/-test-/fatal'
                                          D | installing default rb_fatal libraries
                                          D | gmake[2]: Leaving directory '/var/cache/omnibus/src/ruby-2.1.6/ext/-test-/fatal'
                                          D | installing default file libraries
                                          D | gmake[2]: Leaving directory '/var/cache/omnibus/src/ruby-2.1.6/ext/-test-/file'
    16558: |2
                                          D | Installing ruby-prof 0.15.9 with native extensions
                                          D |
                                          D | Gem::Ext::BuildError: ERROR: Failed to build gem native extension.
                                          D |
                                          D |     /opt/angrychef/embedded/bin/ruby -r ./siteconf20151210-25690290-1429gp7.rb extconf.rb
    16592: |2
                                          D | continue.
                                          D | Make sure that `gem install ruby-prof -v '0.15.9'` succeeds before bundling.
                          [Builder: chef] W | [1/3] Failed to execute command. Retrying in 10 seconds...
                          [Builder: chef] I | Environment:
                          [Builder: chef] I |   ARFLAGS="-X64 cru"
    16670: |2
                                          D | Installing ruby-prof 0.15.9 with native extensions
                                          D |
                                          D | Gem::Ext::BuildError: ERROR: Failed to build gem native extension.
                                          D |
                                          D |     /opt/angrychef/embedded/bin/ruby -r ./siteconf20151210-25690294-4yruyd.rb extconf.rb
    16704: |2
                                          D | continue.
                                          D | Make sure that `gem install ruby-prof -v '0.15.9'` succeeds before bundling.
                          [Builder: chef] W | [2/3] Failed to execute command. Retrying in 20 seconds...
                          [Builder: chef] I | Environment:
                          [Builder: chef] I |   ARFLAGS="-X64 cru"
    16782: |2
                                          D | Installing ruby-prof 0.15.9 with native extensions
                                          D |
                                          D | Gem::Ext::BuildError: ERROR: Failed to build gem native extension.
                                          D |
                                          D |     /opt/angrychef/embedded/bin/ruby -r ./siteconf20151210-25690296-fi1q8a.rb extconf.rb
    16816: |2
                                          D | continue.
                                          D | Make sure that `gem install ruby-prof -v '0.15.9'` succeeds before bundling.
                          [Builder: chef] W | [3/3] Failed to execute command. Retrying in 40 seconds...
                          [Builder: chef] I | Environment:
                          [Builder: chef] I |   ARFLAGS="-X64 cru"
    16894: |2
                                          D | Installing ruby-prof 0.15.9 with native extensions
                                          D |
                                          D | Gem::Ext::BuildError: ERROR: Failed to build gem native extension.
                                          D |
                                          D |     /opt/angrychef/embedded/bin/ruby -r ./siteconf20151210-25690298-1c5pt8r.rb extconf.rb
    16930: |2
                          [Builder: chef] I | bundle `install --without server docgen': 156.0642s
                          [Builder: chef] I | Build chef: 156.0691s
      The following shell command exited with status 5:

          $ ARFLAGS=-X64 cru CC=xlc_r -q64 CFLAGS=-q64 -I/opt/angrychef/embedded/include -D_LARGE_FILES -O CPPFLAGS=-q64 -I/opt/angrychef/embedded/include -D_LARGE_FILES -O CXX=xlC_r -q64 CXXFLAGS=-q64 -I/opt/angrychef/embedded/include -D_LARGE_FILES -O LD=ld -b64 LDFLAGS=-q64 -L/opt/angrychef/embedded/lib -Wl,-blibpath:/opt/angrychef/embedded/lib:/usr/lib:/lib LD_RUN_PATH=/opt/angrychef/embedded/lib OBJECT_MODE=64 PATH=/opt/angrychef/bin:/opt/angrychef/embedded/bin:/home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bin:/opt/IBM/xlC/13.1.0/bin:/opt/omnibus-toolchain/embedded/bin:/usr/local/bin:/usr/ibm-java-ppc64-71/bin:/usr/local/sbin:/usr/sbin:/usr/bin:/sbin:/bin PKG_CONFIG_PATH=/opt/angrychef/embedded/lib/pkgconfig /opt/angrychef/embedded/bin/bundle install --without server docgen

      Output:

          Fetching gem metadata from https://rubygems.org/........
      Fetching version metadata from https://rubygems.org/...
      Fetching dependency metadata from https://rubygems.org/..
      Resolving dependencies...........................................
      Using rake 10.4.2
      Using i18n 0.7.0
      Using multi_json 1.11.2
      Using activesupport 3.2.22
      Using addressable 2.3.8
      Using builder 3.2.2
      Using mixlib-config 2.2.1
      Using mixlib-shellout 2.2.5
      Using chef-config 12.6.0 from source at .
      Using libyajl2 1.2.0
      Using ffi-yajl 2.2.2
      Using hashie 3.4.3
      Using mixlib-log 1.6.0
      Using rack 1.5.5
      Using uuidtools 2.1.5
      Using chef-zero 4.3.2
      Using diff-lcs 1.2.5
      Using erubis 2.7.0
      Using highline 1.7.8
      Using mixlib-authentication 1.3.0
      Using mixlib-cli 1.5.0
      Using net-ssh 2.9.2
      Using net-ssh-gateway 1.2.0
      Using net-ssh-multi 1.2.1
      Using ffi 1.9.10
      Using ipaddress 0.8.0
      Using systemu 2.6.5
      Using wmi-lite 1.0.0
      Using ohai 8.8.1
      Using plist 3.1.0
      Using proxifier 1.0.3
      Using coderay 1.1.0
      Using method_source 0.8.2
      Using slop 3.6.0
      Using pry 0.10.3
      Using rspec-support 3.4.1
      Using rspec-core 3.4.1
      Using rspec-expectations 3.4.0
      Using rspec-mocks 3.4.0
      Using rspec_junit_formatter 0.2.3
      Using rspec 3.4.0
      Using rspec-its 1.2.0
      Using net-scp 1.2.1
      Using net-telnet 0.1.1
      Using sfl 2.2
      Using specinfra 2.44.7
      Using serverspec 2.24.3
      Using syslog-logger 1.6.8
      Using chef 12.6.0 from source at .
      Using cheffish 1.6.0
      Using docile 1.1.5
      Using multipart-post 2.0.0
      Using faraday 0.9.2
      Using json 1.8.3
      Using netrc 0.11.0
      Using sawyer 0.6.0
      Using octokit 4.2.0
      Installing ruby-prof 0.15.9 with native extensions

      Gem::Ext::BuildError: ERROR: Failed to build gem native extension.

          /opt/angrychef/embedded/bin/ruby -r ./siteconf20151210-25690298-1c5pt8r.rb extconf.rb
      checking for rb_gc_stat()... yes
      checking for rb_gc_count()... yes
      checking for rb_os_allocated_objects()... no
      checking for rb_gc_allocated_size()... no
      checking for rb_gc_collections()... no
      checking for rb_gc_time()... no
      checking for rb_gc_total_time()... no
      checking for rb_gc_total_mallocs()... no
      checking for rb_gc_total_malloced_bytes()... no
      checking for rb_heap_total_mem()... no
      checking for rb_gc_heap_info()... no
      creating Makefile

      make "DESTDIR=" clean
    17038: |2
          (nothing)

      /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/util.rb:101:in `rescue in shellout!'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/util.rb:97:in `shellout!'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:783:in `shellout!'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:330:in `block in bundle'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:970:in `instance_eval'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:970:in `run'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:801:in `block (3 levels) in execute'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:823:in `call'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:823:in `with_retries'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:800:in `block (2 levels) in execute'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/instrumentation.rb:23:in `call'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/instrumentation.rb:23:in `measure'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:799:in `block in execute'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:873:in `call'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:873:in `with_clean_env'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:798:in `execute'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:668:in `block (2 levels) in build'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:667:in `each'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:667:in `block in build'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/instrumentation.rb:23:in `call'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/instrumentation.rb:23:in `measure'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/builder.rb:666:in `build'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/software.rb:909:in `execute_build'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/software.rb:784:in `build_me'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/project.rb:1006:in `block in build'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/project.rb:1005:in `each'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/project.rb:1005:in `build'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/cli.rb:83:in `build'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor/command.rb:27:in `run'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor/invocation.rb:126:in `invoke_command'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor.rb:359:in `dispatch'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/cli/base.rb:33:in `dispatch'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/gems/thor-0.19.1/lib/thor/base.rb:440:in `start'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/lib/omnibus/cli.rb:41:in `execute!'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-6c476d22ca1f/bin/omnibus:16:in `<top (required)>'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `load'
        /home/jenkins/workspace/angrychef-build/architecture/powerpc/platform/aix-6.1/project/angrychef/role/builder/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `<main>'
      Build step 'Invoke XShell command' marked build as failure
      Archiving artifacts
      Recording fingerprints
