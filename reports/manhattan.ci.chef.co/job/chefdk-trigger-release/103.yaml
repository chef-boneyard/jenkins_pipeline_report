---
result: FAILURE
url: http://manhattan.ci.chef.co/job/chefdk-trigger-release/103/
failure_category: code
failure_cause: 'Builder zlib: windows: chefdk-build'
timestamp: 2016-06-24 21:26:09 UTC
duration: 1h50m49s
triggered_by: ksubrama
active_duration: 1h50m39s
parameters:
  GIT_REF: master
  EXPIRE_CACHE: true
change:
  git_remote: git://github.com/chef/chef-dk.git
  git_commit: a0640b44cd4dfcd1748f9c466740fcf0a35e77f3
  project: chefdk
stages:
  chefdk-build:
    result: FAILURE
    failure_category: code
    failure_cause: 'Builder zlib: windows'
    url: http://manhattan.ci.chef.co/job/chefdk-build/573/
    duration: 1h50m36s
    runs:
      windows-2008r2-i386:
        result: FAILURE
        failure_category: code
        failure_cause: Builder zlib
        failed_in:
          step: Builder zlib
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=i386,platform=windows-2008r2,project=chefdk,role=builder/573/
        duration: 5m20s
        logs:
          consoleText:
            278: |2
                             [Software] I | 2016-06-24T23:25:39+02:00 | Loading software `chef-dk-complete' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                             [Software] I | 2016-06-24T23:25:39+02:00 | Loading software `delivery-cli' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-32324e19b76f/config/software/delivery-cli.rb' using overrides from chefdk.
               [Software: delivery-cli] W | 2016-06-24T23:25:39+02:00 | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
               [Software: delivery-cli] W | 2016-06-24T23:25:39+02:00 | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                           [GitFetcher] I | 2016-06-24T23:25:39+02:00 | $ git ls-remote "https://github.com/chef/delivery-cli.git" "master*"
                                        I | 2016-06-24T23:25:39+02:00 | 51974bbeecfc17b219977dc9aa5ab48843e18707  refs/heads/master
            289: |2
                             [Software] I | 2016-06-24T23:25:39+02:00 | Loading software `git-windows' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-32324e19b76f/config/software/git-windows.rb' using overrides from chefdk.
                             [Software] I | 2016-06-24T23:25:40+02:00 | Loading software `chef-dk' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
                    [Software: chef-dk] W | 2016-06-24T23:25:40+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                    [Software: chef-dk] W | 2016-06-24T23:25:40+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                             [Software] I | 2016-06-24T23:25:40+02:00 | Loading software `libxml2' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-32324e19b76f/config/software/libxml2.rb' using overrides from chefdk.
                             [Software] I | 2016-06-24T23:25:40+02:00 | Loading software `libiconv' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-32324e19b76f/config/software/libiconv.rb' using overrides from chefdk.
                             [Software] I | 2016-06-24T23:25:40+02:00 | Loading software `config_guess' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-32324e19b76f/config/software/config_guess.rb' using overrides from chefdk.
               [Software: config_guess] W | 2016-06-24T23:25:40+02:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                             [Software] I | 2016-06-24T23:25:40+02:00 | Loading software `liblzma' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-32324e19b76f/config/software/liblzma.rb' using overrides from chefdk.
                             [Software] I | 2016-06-24T23:25:40+02:00 | Loading software `libxslt' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-32324e19b76f/config/software/libxslt.rb' using overrides from chefdk.
            349: |2
                             [Software] I | 2016-06-24T23:25:42+02:00 | Loading software `ruby-windows-devkit' from `C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-32324e19b76f/config/software/ruby-windows-devkit.rb' using overrides from chefdk.
              [Software: ruby-windows-devkit] I | 2016-06-24T23:25:42+02:00 | Resolving manifest entry for ruby-windows-devkit
              [Software: ruby-windows-devkit] W | 2016-06-24T23:25:42+02:00 | DEPRECATED: project_file (DSL). This is a property of the NetFetcher and will not be publically exposed in the next major release. In general, you should not be using this method in your software definitions as it is an internal implementation detail of the NetFetcher. If you disagree with this statement, you should open an issue on the Omnibus repository on GitHub an explain your use case. For now, I will return the path to the downloaded file on disk, but please rethink the problem you are trying to solve :).
                             [Software] I | 2016-06-24T23:25:42+02:00 | Loading software `chef-dk-remove-docs' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk-remove-docs.rb' using overrides from chefdk.
                             [Software] I | 2016-06-24T23:25:42+02:00 | Loading software `rubygems-customization' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/rubygems-customization.rb' using overrides from chefdk.
            367: |2
                [Software: preparation] I | 2016-06-24T23:25:43+02:00 | Resolving manifest entry for preparation
              [Software: rust-uninstall] I | 2016-06-24T23:25:43+02:00 | Resolving manifest entry for rust-uninstall
               [Software: delivery-cli] W | 2016-06-24T23:25:43+02:00 | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
               [Software: config_guess] W | 2016-06-24T23:25:43+02:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
              [NullFetcher: preparation] I | 2016-06-24T23:25:43+02:00 | Fetching `preparation' (nothing to fetch)
              [NullFetcher: rust-uninstall] I | 2016-06-24T23:25:43+02:00 | Fetching `rust-uninstall' (nothing to fetch)
               [Software: delivery-cli] W | 2016-06-24T23:25:43+02:00 | Version master for software delivery-cli was not parseable. Comparison methods such as #satisfies? will not be available for this version.
               [Software: config_guess] W | 2016-06-24T23:25:43+02:00 | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                    [Software: liblzma] I | 2016-06-24T23:25:43+02:00 | Resolving manifest entry for liblzma
                    [Software: libxml2] I | 2016-06-24T23:25:43+02:00 | Resolving manifest entry for libxml2
            540: |
              [PathFetcher: chef-dk-gem-cookstyle] I | 2016-06-24T23:25:45+02:00 | Digesting C:/omnibus-ruby/src/chef-dk-gem-cookstyle with sha256
              [Software: chef-dk-gem-ruby-shadow] I | 2016-06-24T23:25:45+02:00 | Resolving manifest entry for chef-dk-gem-ruby-shadow
              [Software: chef-dk-gem-ruby-shadow] W | 2016-06-24T23:25:45+02:00 | Version <skip> for software chef-dk-gem-ruby-shadow was not parseable. Comparison methods such as #satisfies? will not be available for this version.
              [Software: chef-dk-gem-ruby-shadow] W | 2016-06-24T23:25:45+02:00 | Version <skip> for software chef-dk-gem-ruby-shadow was not parseable. Comparison methods such as #satisfies? will not be available for this version.
              [PathFetcher: chef-dk-gem-ruby-shadow] I | 2016-06-24T23:25:45+02:00 | Digesting C:/omnibus-ruby/src/chef-dk-gem-ruby-shadow with sha256
              [PathFetcher: chef-dk-gem-ruby-shadow] I | 2016-06-24T23:25:45+02:00 | Digesting C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
              [PathFetcher: chef-dk-gem-ruby-shadow] I | 2016-06-24T23:25:45+02:00 | Copying from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/files/chef-dk-gem'
              [PathFetcher: chef-dk-gem-ruby-shadow] I | 2016-06-24T23:25:45+02:00 | Digesting C:/omnibus-ruby/src/chef-dk-gem-ruby-shadow with sha256
                    [Software: chef-dk] I | 2016-06-24T23:25:45+02:00 | Resolving manifest entry for chef-dk
                    [Software: chef-dk] W | 2016-06-24T23:25:45+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                    [Software: chef-dk] W | 2016-06-24T23:25:45+02:00 | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                 [PathFetcher: chef-dk] I | 2016-06-24T23:25:45+02:00 | Digesting C:/omnibus-ruby/src/chef-dk with sha256
                 [PathFetcher: chef-dk] I | 2016-06-24T23:25:45+02:00 | Digesting C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder with sha256
              ===============================================================================================================|
                  [NetFetcher: libyaml] I | 2016-06-24T23:25:46+02:00 | Verifying checksum
              [Software: chef-dk-appbundle] I | 2016-06-24T23:25:46+02:00 | Resolving manifest entry for chef-dk-appbundle
              [Software: chef-dk-appbundle] W | 2016-06-24T23:25:46+02:00 | Version local_source for software chef-dk-appbundle was not parseable. Comparison methods such as #satisfies? will not be available for this version.
              [Software: chef-dk-appbundle] W | 2016-06-24T23:25:46+02:00 | Version local_source for software chef-dk-appbundle was not parseable. Comparison methods such as #satisfies? will not be available for this version.
              [PathFetcher: chef-dk-appbundle] I | 2016-06-24T23:25:46+02:00 | Digesting C:/omnibus-ruby/src/chef-dk-appbundle with sha256
              =[PathFetcher: chef-dk-appbundle] I | 2016-06-24T23:25:46+02:00 | Digesting C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/files with sha256
            665: |2
                        [Builder: zlib] I | 2016-06-24T23:26:06+02:00 | Apply patch `zlib-windows-relocate.patch': 1.014s
                        [Builder: zlib] I | 2016-06-24T23:26:06+02:00 | Build zlib: 1.0608s
              The following shell command exited with status 2:

                  $ BINARY_PATH=/bin CFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 CPPFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 CXXFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 DESTDIR=C:/opscode/chefdk/embedded INCLUDE_PATH=/include LDFLAGS=-LC:/opscode/chefdk/embedded/lib -m32 LD_RUN_PATH=C:/opscode/chefdk/embedded/lib LIBRARY_PATH=/lib PKG_CONFIG_PATH=C:/opscode/chefdk/embedded/lib/pkgconfig Path=C:/opscode/chefdk/bin;C:/opscode/chefdk/embedded/bin;C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bin;C:\msys2\bin;C:\msys2\mingw32\bin;C:\msys2\usr\bin;C:\Program Files (x86)\Git\Cmd;C:\Program Files (x86)\Git\libexec\git-core;C:\languages\ruby\2.1.8\bin;C:\wix;C:\Program Files\7-zip;C:\Program Files (x86)\Windows Kits\8.1\bin\x64;C:\Program Files\Java\jre1.8.0_45\bin;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\opscode\chef\bin\ bash -c 'patch -p1 -i ../../../../languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-32324e19b76f/config/patches/zlib/zlib-windows-relocate.patch'

              Output:

                  Copying skeleton files.
              These files are for the users to personalise their msys2 experience.

              They will never be overwritten nor automatically updated.

              './.bashrc' -> '/home/jenkins//.bashrc'
              './.bash_logout' -> '/home/jenkins//.bash_logout'
              './.bash_profile' -> '/home/jenkins//.bash_profile'
              './.inputrc' -> '/home/jenkins//.inputrc'
              './.profile' -> '/home/jenkins//.profile'

              Error:

                  patch: **** Can't open patch file ../../../../languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-32324e19b76f/config/patches/zlib/zlib-windows-relocate.patch : No such file or directory

              C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/util.rb:101:in `rescue in shellout!'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/util.rb:97:in `shellout!'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:818:in `shellout!'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:249:in `block in patch'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:1005:in `instance_eval'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:1005:in `run'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:836:in `block (3 levels) in execute'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:858:in `with_retries'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:835:in `block (2 levels) in execute'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/instrumentation.rb:23:in `measure'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:834:in `block in execute'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:908:in `with_clean_env'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:833:in `execute'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:713:in `block (2 levels) in build'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:712:in `each'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:712:in `block in build'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/instrumentation.rb:23:in `measure'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/builder.rb:711:in `build'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/software.rb:1138:in `execute_build'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/software.rb:1001:in `build_me'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/project.rb:1076:in `block in build'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/project.rb:1075:in `each'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/project.rb:1075:in `build'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/cli.rb:84:in `build'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/command.rb:27:in `run'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/invocation.rb:126:in `invoke_command'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor.rb:359:in `dispatch'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/cli/base.rb:33:in `dispatch'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/base.rb:440:in `start'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/lib/omnibus/cli.rb:42:in `execute!'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bundler/gems/omnibus-56b8e507df41/bin/omnibus:16:in `<top (required)>'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bin/omnibus:23:in `load'
                C:/languages/ruby/2.1.8/lib/ruby/gems/2.1.0/bin/omnibus:23:in `<main>'
              Failed with error level 1
              Build step 'Invoke XShell command' marked build as failure
              Archiving artifacts
              Recording fingerprints
        steps:
          total: 5m20s
          before (setup time): "-49s"
          omnibus:
            fetch:
              NetFetcher:
                total: 19s
                libarchive: 10s
                ruby: 17s
          after (cleanup time): 5m36s
      debian-6:
        result: SUCCESS
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=debian-6,project=chefdk,role=builder/573/
        duration: 1h27m
      el-6:
        result: SUCCESS
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=el-6,project=chefdk,role=builder/573/
        duration: 1h50m31s
      el-7:
        result: SUCCESS
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=el-7,project=chefdk,role=builder/573/
        duration: 55m15s
      mac_os_x-10.9:
        result: SUCCESS
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=mac_os_x-10.9,project=chefdk,role=builder/573/
        duration: 39m33s
      ubuntu-12.04:
        result: SUCCESS
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=ubuntu-12.04,project=chefdk,role=builder/573/
        duration: 58m42s
  chefdk-trigger-release:
    result: SUCCESS
    url: http://manhattan.ci.chef.co/job/chefdk-trigger-release/103/
    duration: 3s
successful_logs_analyzed: false
