---
result: FAILURE
url: http://manhattan.ci.chef.co/job/chefdk-trigger-ad_hoc/107/
failure_category: unknown
failure_cause: 'network reset: chefdk-build/architecture=i386,platform=windows-2008r2,project=chefdk,role=builder;
  network reset: windows; unknown: debian, el, mac_os_x; network reset rubygems.org:
  ubuntu: chefdk-build'
timestamp: 2016-04-05 06:14:32 UTC
duration: 3h3m45s
triggered_by: jkeiser
active_duration: 6h7m4s
parameters:
  GIT_REF: jk/chef-dk-gemset
  EXPIRE_CACHE: false
change:
  git_remote: git://github.com/chef/chef-dk.git
  git_commit: 876988c35d174ed7f5638f4f9312578a846b8c49
  project: chefdk
stages:
  chefdk-build/architecture=i386,platform=windows-2008r2,project=chefdk,role=builder:
    result: FAILURE
    failure_category: network
    failure_cause: network reset
    url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=i386,platform=windows-2008r2,project=chefdk,role=builder/186/
    duration: 3h3m27s
    logs:
      consoleText:
        276: |2
                                   [Software] I | Loading software `chef-dk-complete' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                                   [Software] I | Loading software `chef-dk' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
                          [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                          [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                   [Software] I | Loading software `libxml2' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libxml2.rb' using overrides from chefdk.
                                   [Software] I | Loading software `zlib' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/zlib.rb' using overrides from chefdk.
        7690: |2
                                   [Software] I | Loading software `ruby-windows-devkit' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/ruby-windows-devkit.rb' using overrides from chefdk.
              [Software: ruby-windows-devkit] I | Resolving manifest entry for ruby-windows-devkit
              [Software: ruby-windows-devkit] W | DEPRECATED: project_file (DSL). This is a property of the NetFetcher and will not be publically exposed in the next major release. In general, you should not be using this method in your software definitions as it is an internal implementation detail of the NetFetcher. If you disagree with this statement, you should open an issue on the Omnibus repository on GitHub an explain your use case. For now, I will return the path to the downloaded file on disk, but please rethink the problem you are trying to solve :).
                                   [Software] I | Loading software `chef-dk-remove-docs' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk-remove-docs.rb' using overrides from chefdk.
                                   [Software] I | Loading software `rubygems-customization' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/rubygems-customization.rb' using overrides from chefdk.
        7798: |
          [Software: chef-dk-powershell-scripts] I | Resolving manifest entry for chef-dk-powershell-scripts
          [PathFetcher: chef-dk-gem-ruby-shadow] I | Digesting C:/omnibus-ruby/src/chef-dk-gem-ruby-shadow with sha256
                          [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
              [PathFetcher: chef-dk-gem-json] I | Digesting C:/omnibus-ruby/src/chef-dk-gem-json with sha256
             [PathFetcher: chef-dk-gem-nio4r] I | Digesting C:/omnibus-ruby/src/chef-dk-gem-nio4r with sha256
        7805: |
          [NullFetcher: chef-dk-powershell-scripts] I | Fetching `chef-dk-powershell-scripts' (nothing to fetch)
              [Software: chef-dk-remove-docs] I | Resolving manifest entry for chef-dk-remove-docs
                          [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
          [PathFetcher: chef-dk-gem-yajl-ruby] I | Digesting C:/omnibus-ruby/src/chef-dk-gem-yajl-ruby with sha256
           [Software: rubygems-customization] I | Resolving manifest entry for rubygems-customization
        25956: |2
                                              D | configuring -test-/dln/empty
                                              D | configuring -test-/exception
                                              D | configuring -test-/fatal
                                              D | configuring -test-/file
                                              D | configuring -test-/funcall
        26100: |2
                                              D | installing default exception libraries
                                              D | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/exception'
                                              D | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                              D | generating rb_fatal-i386-mingw32.def
                                              D | compiling rb_fatal.c
                                              D | linking shared-object -test-/fatal/rb_fatal.so
                                              D | installing default rb_fatal libraries
                                              D | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                              D | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/file'
                                              D | generating file-i386-mingw32.def
        26695: |2
                                              D | installing default exception libraries
                                              D | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/exception'
                                              D | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                              D | installing default rb_fatal libraries
                                              D | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                              D | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/file'
                                              D | installing default file libraries
        32861: |2
                                              D |   --ruby=C:/opscode/chefdk/embedded/bin/ruby
                                              D | extconf.rb:67:in `<main>': You are missing some of the required functions from either shadow.h on Linux/Solaris, or pwd.h on FreeBSD/MirBSD/NetBSD/OpenBSD/OS X. (RuntimeError)
                                              D | ERROR:  Error installing ruby-shadow:
                                              D |   ERROR: Failed to build gem native extension.
                                              D |
                                              D |     Building has failed. See above output for more information on the failure.
        32900: |2
                                              D | current directory: C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0
                                              D | C:/opscode/chefdk/embedded/bin/ruby.exe -r ./siteconf20160405-1908-1au6h0u.rb extconf.rb
           [Builder: chef-dk-gem-ruby-shadow] W | [1/3] Failed to execute command. Retrying in 10 seconds...
           [Builder: chef-dk-gem-ruby-shadow] I | Environment:
           [Builder: chef-dk-gem-ruby-shadow] I |   ARFLAGS="rv --target=pe-i386"
        32951: |2
                                              D | current directory: C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0
                                              D | C:/opscode/chefdk/embedded/bin/ruby.exe -r ./siteconf20160405-2628-164gvdd.rb extconf.rb
                                              D | ERROR:  Error installing ruby-shadow:
                                              D |   ERROR: Failed to build gem native extension.
                                              D |
                                              D |     Building has failed. See above output for more information on the failure.
        32963: |2
                                              D | Gem files will remain installed in C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0 for inspection.
                                              D | Results logged to C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/extensions/x86-mingw32/2.1.0/ruby-shadow-2.5.0/gem_make.out
           [Builder: chef-dk-gem-ruby-shadow] W | [2/3] Failed to execute command. Retrying in 20 seconds...
           [Builder: chef-dk-gem-ruby-shadow] I | Environment:
           [Builder: chef-dk-gem-ruby-shadow] I |   ARFLAGS="rv --target=pe-i386"
        32996: |2
                                              D |   --ruby=C:/opscode/chefdk/embedded/bin/ruby
                                              D | extconf.rb:67:in `<main>': You are missing some of the required functions from either shadow.h on Linux/Solaris, or pwd.h on FreeBSD/MirBSD/NetBSD/OpenBSD/OS X. (RuntimeError)
                                              D | ERROR:  Error installing ruby-shadow:
                                              D |   ERROR: Failed to build gem native extension.
                                              D |
                                              D |     Building has failed. See above output for more information on the failure.
        33026: |2
                                              D | current directory: C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0
                                              D | C:/opscode/chefdk/embedded/bin/ruby.exe -r ./siteconf20160405-2740-mnwf2e.rb extconf.rb
           [Builder: chef-dk-gem-ruby-shadow] W | [3/3] Failed to execute command. Retrying in 40 seconds...
           [Builder: chef-dk-gem-ruby-shadow] I | Environment:
           [Builder: chef-dk-gem-ruby-shadow] I |   ARFLAGS="rv --target=pe-i386"
        33059: |2
                                              D |   --ruby=C:/opscode/chefdk/embedded/bin/ruby
                                              D | extconf.rb:67:in `<main>': You are missing some of the required functions from either shadow.h on Linux/Solaris, or pwd.h on FreeBSD/MirBSD/NetBSD/OpenBSD/OS X. (RuntimeError)
                                              D | ERROR:  Error installing ruby-shadow:
                                              D |   ERROR: Failed to build gem native extension.
                                              D |
                                              D |     Building has failed. See above output for more information on the failure.
        33091: |2
           [Builder: chef-dk-gem-ruby-shadow] I | gem `install ruby-shadow -v 2.5.0 --ignore-dependencies --verbose -- ': 99.2398s
           [Builder: chef-dk-gem-ruby-shadow] I | Build chef-dk-gem-ruby-shadow: 99.318s
          The following shell command exited with status 1:

              $ ARFLAGS=rv --target=pe-i386 CFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 CPPFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 CXXFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 LDFLAGS=-LC:/opscode/chefdk/embedded/lib -m32 LD_RUN_PATH=C:/opscode/chefdk/embedded/lib NOKOGIRI_USE_SYSTEM_LIBRARIES=true PKG_CONFIG_PATH=C:/opscode/chefdk/embedded/lib/pkgconfig PROG_TAR=bsdtar Path=C:/opscode/chefdk/bin;C:/opscode/chefdk/embedded/bin;C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bin;C:\msys\bin;C:\msys\mingw\bin;C:\Program Files (x86)\Git\Cmd;C:\Program Files (x86)\Git\libexec\git-core;C:\languages\ruby\2.1.5\bin;C:\wix;C:\Program Files\7-zip;C:\Program Files (x86)\Windows Kits\8.1\bin\x64;C:\Program Files\Java\jre1.8.0_45\bin;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\opscode\chef\bin\ RCFLAGS=--target=pe-i386 C:\opscode\chefdk\embedded\bin\gem install ruby-shadow -v 2.5.0 --ignore-dependencies --verbose --

          Output:

              checking for ruby/io.h... yes
          GET https://api.rubygems.org/specs.4.8.gz
          302 Moved Temporarily
          GET https://rubygems.global.ssl.fastly.net/specs.4.8.gz
          304 Not Modified
          C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/HISTORY
          C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/LICENSE
          C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/MANIFEST
          C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/README
          C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/README.euc
          C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/extconf.rb
          C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/pwd/depend
          C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/pwd/shadow.c
          C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/ruby-shadow.gemspec
          C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/shadow/depend
          C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/shadow/shadow.c
          Building native extensions.  This could take a while...
          current directory: C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0
          C:/opscode/chefdk/embedded/bin/ruby.exe -r ./siteconf20160405-1180-1fu84jh.rb extconf.rb

          Error:

              *** extconf.rb failed ***
          Could not create Makefile due to some reason, probably lack of necessary
          libraries and/or headers.  Check the mkmf.log file for more details.  You may
          need configuration options.

          Provided configuration options:
            --with-opt-dir
            --without-opt-dir
            --with-opt-include
            --without-opt-include=${opt-dir}/include
            --with-opt-lib
            --without-opt-lib=${opt-dir}/lib
            --with-make-prog
            --without-make-prog
            --srcdir=.
            --curdir
            --ruby=C:/opscode/chefdk/embedded/bin/ruby
          extconf.rb:67:in `<main>': You are missing some of the required functions from either shadow.h on Linux/Solaris, or pwd.h on FreeBSD/MirBSD/NetBSD/OpenBSD/OS X. (RuntimeError)
          ERROR:  Error installing ruby-shadow:
            ERROR: Failed to build gem native extension.

              Building has failed. See above output for more information on the failure.
          To see why this extension failed to compile, please check the mkmf.log which can be found here:

            C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/extensions/x86-mingw32/2.1.0/ruby-shadow-2.5.0/mkmf.log

          extconf failed, exit code 1

          Gem files will remain installed in C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0 for inspection.
          Results logged to C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/extensions/x86-mingw32/2.1.0/ruby-shadow-2.5.0/gem_make.out

          C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/util.rb:101:in `rescue in shellout!'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/util.rb:97:in `shellout!'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:825:in `shellout!'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:309:in `block in gem'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:1012:in `instance_eval'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:1012:in `run'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:843:in `block (3 levels) in execute'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:865:in `call'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:865:in `with_retries'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:842:in `block (2 levels) in execute'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/instrumentation.rb:23:in `call'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/instrumentation.rb:23:in `measure'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:841:in `block in execute'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:915:in `call'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:915:in `with_clean_env'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:840:in `execute'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:704:in `block (2 levels) in build'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:703:in `each'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:703:in `block in build'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/instrumentation.rb:23:in `call'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/instrumentation.rb:23:in `measure'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:702:in `build'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/software.rb:1142:in `execute_build'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/software.rb:1005:in `build_me'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/project.rb:1077:in `block in build'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/project.rb:1076:in `each'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/project.rb:1076:in `build'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/cli.rb:83:in `build'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/command.rb:27:in `run'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/invocation.rb:126:in `invoke_command'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor.rb:359:in `dispatch'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/cli/base.rb:33:in `dispatch'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/base.rb:440:in `start'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/cli.rb:41:in `execute!'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/bin/omnibus:16:in `<top (required)>'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bin/omnibus:23:in `load'
            C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bin/omnibus:23:in `<main>'
          Failed with error level 1
          Build step 'Invoke XShell command' marked build as failure
          Archiving artifacts
          Recording fingerprints
  chefdk-build:
    result: FAILURE
    failure_category: unknown
    failure_cause: 'network reset: windows; unknown: debian, el, mac_os_x; network
      reset rubygems.org: ubuntu'
    url: http://manhattan.ci.chef.co/job/chefdk-build/186/
    duration: 3h3m31s
    runs:
      windows-2008r2-i386:
        result: FAILURE
        failure_category: network
        failure_cause: network reset
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=i386,platform=windows-2008r2,project=chefdk,role=builder/186/
        duration: 3h3m27s
        logs:
          consoleText:
            276: |2
                                       [Software] I | Loading software `chef-dk-complete' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                                       [Software] I | Loading software `chef-dk' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                       [Software] I | Loading software `libxml2' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libxml2.rb' using overrides from chefdk.
                                       [Software] I | Loading software `zlib' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/zlib.rb' using overrides from chefdk.
            7690: |2
                                       [Software] I | Loading software `ruby-windows-devkit' from `C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/ruby-windows-devkit.rb' using overrides from chefdk.
                  [Software: ruby-windows-devkit] I | Resolving manifest entry for ruby-windows-devkit
                  [Software: ruby-windows-devkit] W | DEPRECATED: project_file (DSL). This is a property of the NetFetcher and will not be publically exposed in the next major release. In general, you should not be using this method in your software definitions as it is an internal implementation detail of the NetFetcher. If you disagree with this statement, you should open an issue on the Omnibus repository on GitHub an explain your use case. For now, I will return the path to the downloaded file on disk, but please rethink the problem you are trying to solve :).
                                       [Software] I | Loading software `chef-dk-remove-docs' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/chef-dk-remove-docs.rb' using overrides from chefdk.
                                       [Software] I | Loading software `rubygems-customization' from `C:/jenkins/workspace/chefdk-build/architecture/i386/platform/windows-2008r2/project/chefdk/role/builder/omnibus/config/software/rubygems-customization.rb' using overrides from chefdk.
            7798: |
              [Software: chef-dk-powershell-scripts] I | Resolving manifest entry for chef-dk-powershell-scripts
              [PathFetcher: chef-dk-gem-ruby-shadow] I | Digesting C:/omnibus-ruby/src/chef-dk-gem-ruby-shadow with sha256
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                  [PathFetcher: chef-dk-gem-json] I | Digesting C:/omnibus-ruby/src/chef-dk-gem-json with sha256
                 [PathFetcher: chef-dk-gem-nio4r] I | Digesting C:/omnibus-ruby/src/chef-dk-gem-nio4r with sha256
            7805: |
              [NullFetcher: chef-dk-powershell-scripts] I | Fetching `chef-dk-powershell-scripts' (nothing to fetch)
                  [Software: chef-dk-remove-docs] I | Resolving manifest entry for chef-dk-remove-docs
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
              [PathFetcher: chef-dk-gem-yajl-ruby] I | Digesting C:/omnibus-ruby/src/chef-dk-gem-yajl-ruby with sha256
               [Software: rubygems-customization] I | Resolving manifest entry for rubygems-customization
            25956: |2
                                                  D | configuring -test-/dln/empty
                                                  D | configuring -test-/exception
                                                  D | configuring -test-/fatal
                                                  D | configuring -test-/file
                                                  D | configuring -test-/funcall
            26100: |2
                                                  D | installing default exception libraries
                                                  D | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/exception'
                                                  D | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | generating rb_fatal-i386-mingw32.def
                                                  D | compiling rb_fatal.c
                                                  D | linking shared-object -test-/fatal/rb_fatal.so
                                                  D | installing default rb_fatal libraries
                                                  D | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/file'
                                                  D | generating file-i386-mingw32.def
            26695: |2
                                                  D | installing default exception libraries
                                                  D | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/exception'
                                                  D | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | installing default rb_fatal libraries
                                                  D | make[2]: Leaving directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | make[2]: Entering directory `/c/omnibus-ruby/src/ruby/ruby-2.1.8/ext/-test-/file'
                                                  D | installing default file libraries
            32861: |2
                                                  D |   --ruby=C:/opscode/chefdk/embedded/bin/ruby
                                                  D | extconf.rb:67:in `<main>': You are missing some of the required functions from either shadow.h on Linux/Solaris, or pwd.h on FreeBSD/MirBSD/NetBSD/OpenBSD/OS X. (RuntimeError)
                                                  D | ERROR:  Error installing ruby-shadow:
                                                  D |   ERROR: Failed to build gem native extension.
                                                  D |
                                                  D |     Building has failed. See above output for more information on the failure.
            32900: |2
                                                  D | current directory: C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0
                                                  D | C:/opscode/chefdk/embedded/bin/ruby.exe -r ./siteconf20160405-1908-1au6h0u.rb extconf.rb
               [Builder: chef-dk-gem-ruby-shadow] W | [1/3] Failed to execute command. Retrying in 10 seconds...
               [Builder: chef-dk-gem-ruby-shadow] I | Environment:
               [Builder: chef-dk-gem-ruby-shadow] I |   ARFLAGS="rv --target=pe-i386"
            32951: |2
                                                  D | current directory: C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0
                                                  D | C:/opscode/chefdk/embedded/bin/ruby.exe -r ./siteconf20160405-2628-164gvdd.rb extconf.rb
                                                  D | ERROR:  Error installing ruby-shadow:
                                                  D |   ERROR: Failed to build gem native extension.
                                                  D |
                                                  D |     Building has failed. See above output for more information on the failure.
            32963: |2
                                                  D | Gem files will remain installed in C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0 for inspection.
                                                  D | Results logged to C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/extensions/x86-mingw32/2.1.0/ruby-shadow-2.5.0/gem_make.out
               [Builder: chef-dk-gem-ruby-shadow] W | [2/3] Failed to execute command. Retrying in 20 seconds...
               [Builder: chef-dk-gem-ruby-shadow] I | Environment:
               [Builder: chef-dk-gem-ruby-shadow] I |   ARFLAGS="rv --target=pe-i386"
            32996: |2
                                                  D |   --ruby=C:/opscode/chefdk/embedded/bin/ruby
                                                  D | extconf.rb:67:in `<main>': You are missing some of the required functions from either shadow.h on Linux/Solaris, or pwd.h on FreeBSD/MirBSD/NetBSD/OpenBSD/OS X. (RuntimeError)
                                                  D | ERROR:  Error installing ruby-shadow:
                                                  D |   ERROR: Failed to build gem native extension.
                                                  D |
                                                  D |     Building has failed. See above output for more information on the failure.
            33026: |2
                                                  D | current directory: C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0
                                                  D | C:/opscode/chefdk/embedded/bin/ruby.exe -r ./siteconf20160405-2740-mnwf2e.rb extconf.rb
               [Builder: chef-dk-gem-ruby-shadow] W | [3/3] Failed to execute command. Retrying in 40 seconds...
               [Builder: chef-dk-gem-ruby-shadow] I | Environment:
               [Builder: chef-dk-gem-ruby-shadow] I |   ARFLAGS="rv --target=pe-i386"
            33059: |2
                                                  D |   --ruby=C:/opscode/chefdk/embedded/bin/ruby
                                                  D | extconf.rb:67:in `<main>': You are missing some of the required functions from either shadow.h on Linux/Solaris, or pwd.h on FreeBSD/MirBSD/NetBSD/OpenBSD/OS X. (RuntimeError)
                                                  D | ERROR:  Error installing ruby-shadow:
                                                  D |   ERROR: Failed to build gem native extension.
                                                  D |
                                                  D |     Building has failed. See above output for more information on the failure.
            33091: |2
               [Builder: chef-dk-gem-ruby-shadow] I | gem `install ruby-shadow -v 2.5.0 --ignore-dependencies --verbose -- ': 99.2398s
               [Builder: chef-dk-gem-ruby-shadow] I | Build chef-dk-gem-ruby-shadow: 99.318s
              The following shell command exited with status 1:

                  $ ARFLAGS=rv --target=pe-i386 CFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 CPPFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 CXXFLAGS=-IC:/opscode/chefdk/embedded/include -m32 -O3 -march=i686 LDFLAGS=-LC:/opscode/chefdk/embedded/lib -m32 LD_RUN_PATH=C:/opscode/chefdk/embedded/lib NOKOGIRI_USE_SYSTEM_LIBRARIES=true PKG_CONFIG_PATH=C:/opscode/chefdk/embedded/lib/pkgconfig PROG_TAR=bsdtar Path=C:/opscode/chefdk/bin;C:/opscode/chefdk/embedded/bin;C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bin;C:\msys\bin;C:\msys\mingw\bin;C:\Program Files (x86)\Git\Cmd;C:\Program Files (x86)\Git\libexec\git-core;C:\languages\ruby\2.1.5\bin;C:\wix;C:\Program Files\7-zip;C:\Program Files (x86)\Windows Kits\8.1\bin\x64;C:\Program Files\Java\jre1.8.0_45\bin;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\opscode\chef\bin\ RCFLAGS=--target=pe-i386 C:\opscode\chefdk\embedded\bin\gem install ruby-shadow -v 2.5.0 --ignore-dependencies --verbose --

              Output:

                  checking for ruby/io.h... yes
              GET https://api.rubygems.org/specs.4.8.gz
              302 Moved Temporarily
              GET https://rubygems.global.ssl.fastly.net/specs.4.8.gz
              304 Not Modified
              C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/HISTORY
              C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/LICENSE
              C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/MANIFEST
              C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/README
              C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/README.euc
              C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/extconf.rb
              C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/pwd/depend
              C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/pwd/shadow.c
              C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/ruby-shadow.gemspec
              C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/shadow/depend
              C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0/shadow/shadow.c
              Building native extensions.  This could take a while...
              current directory: C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0
              C:/opscode/chefdk/embedded/bin/ruby.exe -r ./siteconf20160405-1180-1fu84jh.rb extconf.rb

              Error:

                  *** extconf.rb failed ***
              Could not create Makefile due to some reason, probably lack of necessary
              libraries and/or headers.  Check the mkmf.log file for more details.  You may
              need configuration options.

              Provided configuration options:
                --with-opt-dir
                --without-opt-dir
                --with-opt-include
                --without-opt-include=${opt-dir}/include
                --with-opt-lib
                --without-opt-lib=${opt-dir}/lib
                --with-make-prog
                --without-make-prog
                --srcdir=.
                --curdir
                --ruby=C:/opscode/chefdk/embedded/bin/ruby
              extconf.rb:67:in `<main>': You are missing some of the required functions from either shadow.h on Linux/Solaris, or pwd.h on FreeBSD/MirBSD/NetBSD/OpenBSD/OS X. (RuntimeError)
              ERROR:  Error installing ruby-shadow:
                ERROR: Failed to build gem native extension.

                  Building has failed. See above output for more information on the failure.
              To see why this extension failed to compile, please check the mkmf.log which can be found here:

                C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/extensions/x86-mingw32/2.1.0/ruby-shadow-2.5.0/mkmf.log

              extconf failed, exit code 1

              Gem files will remain installed in C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/gems/ruby-shadow-2.5.0 for inspection.
              Results logged to C:/opscode/chefdk/embedded/lib/ruby/gems/2.1.0/extensions/x86-mingw32/2.1.0/ruby-shadow-2.5.0/gem_make.out

              C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/util.rb:101:in `rescue in shellout!'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/util.rb:97:in `shellout!'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:825:in `shellout!'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:309:in `block in gem'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:1012:in `instance_eval'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:1012:in `run'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:843:in `block (3 levels) in execute'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:865:in `call'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:865:in `with_retries'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:842:in `block (2 levels) in execute'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/instrumentation.rb:23:in `call'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/instrumentation.rb:23:in `measure'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:841:in `block in execute'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:915:in `call'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:915:in `with_clean_env'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:840:in `execute'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:704:in `block (2 levels) in build'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:703:in `each'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:703:in `block in build'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/instrumentation.rb:23:in `call'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/instrumentation.rb:23:in `measure'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/builder.rb:702:in `build'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/software.rb:1142:in `execute_build'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/software.rb:1005:in `build_me'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/project.rb:1077:in `block in build'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/project.rb:1076:in `each'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/project.rb:1076:in `build'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/cli.rb:83:in `build'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/command.rb:27:in `run'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/invocation.rb:126:in `invoke_command'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor.rb:359:in `dispatch'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/cli/base.rb:33:in `dispatch'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/gems/thor-0.19.1/lib/thor/base.rb:440:in `start'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/lib/omnibus/cli.rb:41:in `execute!'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bundler/gems/omnibus-961695bbc1b2/bin/omnibus:16:in `<top (required)>'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bin/omnibus:23:in `load'
                C:/languages/ruby/2.1.5/lib/ruby/gems/2.1.0/bin/omnibus:23:in `<main>'
              Failed with error level 1
              Build step 'Invoke XShell command' marked build as failure
              Archiving artifacts
              Recording fingerprints
      debian-6:
        result: FAILURE
        failure_category: unknown
        failure_cause: unknown
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=debian-6,project=chefdk,role=builder/186/
        duration: 24m18s
        logs:
          consoleText:
            242: |2
                                       [Software] I | Loading software `chef-dk-complete' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                                       [Software] I | Loading software `chef-dk' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                       [Software] I | Loading software `libxml2' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libxml2.rb' using overrides from chefdk.
                                       [Software] I | Loading software `zlib' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/zlib.rb' using overrides from chefdk.
            260: |2
                                       [Software] I | Loading software `libtool' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libtool.rb' using overrides from chefdk.
                                       [Software] I | Loading software `config_guess' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/config_guess.rb' using overrides from chefdk.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                       [Software] I | Loading software `libyaml' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libyaml.rb' using overrides from chefdk.
                                       [Software] I | Loading software `rubygems' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/rubygems.rb' using overrides from chefdk.
            307: |2
                      [Software: pkg-config-lite] I | Resolving manifest entry for pkg-config-lite
                         [Software: config_guess] I | Resolving manifest entry for config_guess
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                     [GitFetcher] I | $ git ls-remote "http://git.savannah.gnu.org/r/config.git" "master*"
                             [Software: rubygems] I | Resolving manifest entry for rubygems
            383: |2
                 [PathFetcher: chef-dk-gem-nio4r] I | Digesting /var/cache/omnibus/src/chef-dk-gem-nio4r with sha256
                              [Software: chef-dk] I | Resolving manifest entry for chef-dk
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                                  I | 706fbe57e39d59f319d338de13b20cecbf7c638c  refs/heads/master
                       [GitFetcher: config_guess] I | $ git -c core.autocrlf=false cat-file -t 706fbe57e39d59f319d338de13b20cecbf7c638c
            392: |
              [PathFetcher: chef-dk-gem-ruby-shadow] I | Digesting /var/cache/omnibus/src/chef-dk-gem-ruby-shadow with sha256
              [PathFetcher: chef-dk-gem-ruby-shadow] I | Digesting /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                           [PathFetcher: chef-dk] I | Digesting /var/cache/omnibus/src/chef-dk with sha256
                           [PathFetcher: chef-dk] I | Digesting /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder with sha256
            7666: |2
                         [GitCache: config_guess] I | $ git -c core.autocrlf=false --git-dir=/var/cache/omnibus/cache/git_cache/opt/chefdk --work-tree=/opt/chefdk add -A -f
                         [GitCache: config_guess] I | Calculating tag
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [GitCache: config_guess] I | dep_list: ["preparation", "zlib", "libiconv", "liblzma", "libxml2", "libxslt", "libarchive", "cacerts", "xproto", "util-macros", "pkg-config-lite", "makedepend", "openssl"]
                         [GitCache: config_guess] I | tag: config_guess-368eab99bf1437a1e5c05d144a76cb603366ae0c7c47a6636239abb8b93cb13f
            9488: |2
                                                  D | linking transcoder emoji_sjis_kddi.so
                                                  D | linking transcoder emoji_sjis_softbank.so
                                                  D | configuring -test-/fatal
                                                  D | configuring -test-/file
                                                  D | configuring -test-/funcall
            9658: |2
                                                  D | linking shared-object -test-/bug-3571/bug.so
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/class'
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | compiling rb_fatal.c
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug-5832'
            9669: |2
                                                  D | linking shared-object -test-/exception.so
                                                  D | installing default rb_fatal libraries
                                                  D | linking shared-object -test-/fatal/rb_fatal.so
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug_reporter'
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/funcall'
            9703: |2
                                                  D | installing default method libraries
                                                  D | linking shared-object -test-/method.so
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | compiling usrmarshal.c
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/num2int'
            10199: |2
                                                  D | installing default file libraries
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/file'
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/postponed_job'
                                                  D | installing default exception libraries
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/exception'
                                                  D | installing default rb_fatal libraries
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/printf'
                                                  D | installing default path_to_class libraries
            25967: |2
                               [Builder: chef-dk] I | Rewrite Gemfile using all properly-installed gems: 1.9312s
                               [Builder: chef-dk] I | Build chef-dk: 177.4046s
              /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/files/chef-dk/build-chef-dk.rb:121:in `block in install_shared_gemfile': undefined local variable or method `shared_gemfile' for #<Omnibus::Builder:0x007f1322fc3e60> (NameError)
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `instance_eval'
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `block in block'
            26003: |2
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `load'
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/debian-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `<main>'
              Build step 'Invoke XShell command' marked build as failure
              Archiving artifacts
              Recording fingerprints
      el-6:
        result: FAILURE
        failure_category: unknown
        failure_cause: unknown
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=el-6,project=chefdk,role=builder/186/
        duration: 33m36s
        logs:
          consoleText:
            242: |2
                                       [Software] I | Loading software `chef-dk-complete' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                                       [Software] I | Loading software `chef-dk' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                       [Software] I | Loading software `libxml2' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libxml2.rb' using overrides from chefdk.
                                       [Software] I | Loading software `zlib' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/zlib.rb' using overrides from chefdk.
            260: |2
                                       [Software] I | Loading software `libtool' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libtool.rb' using overrides from chefdk.
                                       [Software] I | Loading software `config_guess' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/config_guess.rb' using overrides from chefdk.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                       [Software] I | Loading software `libyaml' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libyaml.rb' using overrides from chefdk.
                                       [Software] I | Loading software `rubygems' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/rubygems.rb' using overrides from chefdk.
            303: |2
                               [Software: xproto] I | Resolving manifest entry for xproto
                         [Software: config_guess] I | Resolving manifest entry for config_guess
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                     [GitFetcher] I | $ git ls-remote "http://git.savannah.gnu.org/r/config.git" "master*"
                              [Software: libtool] I | Resolving manifest entry for libtool
            405: |2
                 [PathFetcher: chef-dk-gem-nio4r] I | Copying from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/files/chef-dk-gem'
                   [PathFetcher: chef-dk-gem-ffi] I | Digesting /var/cache/omnibus/src/chef-dk-gem-ffi with sha256
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                           [PathFetcher: chef-dk] I | Digesting /var/cache/omnibus/src/chef-dk with sha256
                           [PathFetcher: chef-dk] I | Digesting /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder with sha256
            7704: |2
                         [GitCache: config_guess] I | $ git -c core.autocrlf=false --git-dir=/var/cache/omnibus/cache/git_cache/opt/chefdk --work-tree=/opt/chefdk add -A -f
                         [GitCache: config_guess] I | Calculating tag
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [GitCache: config_guess] I | dep_list: ["preparation", "zlib", "libiconv", "liblzma", "libxml2", "libxslt", "libarchive", "cacerts", "xproto", "util-macros", "pkg-config-lite", "makedepend", "openssl"]
                         [GitCache: config_guess] I | tag: config_guess-e05df01d72b122721c9ed73fdb48ab7391c97b1dea1a0ea97798cbb401b5678b
            9515: |2
                                                  D | linking transcoder emoji_sjis_docomo.so
                                                  D | linking transcoder emoji_sjis_kddi.so
                                                  D | configuring -test-/fatal
                                                  D | compiling ./enc/shift_jis.c
                                                  D | configuring -test-/file
            9704: |2
                                                  D | compiling passing_block.c
                                                  D | installing default exception libraries
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | compiling enc_raise.c
                                                  D | compiling rb_fatal.c
            9718: |2
                                                  D | installing default rb_fatal libraries
                                                  D | linking shared-object -test-/file.so
                                                  D | linking shared-object -test-/fatal/rb_fatal.so
                                                  D | linking shared-object -test-/bignum.so
                                                  D | installing default funcall libraries
            9753: |2
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/num2int'
                                                  D | compiling num2int.c
                                                  D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | installing default old_thread_select libraries
                                                  D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/funcall'
            10205: |2
                                                  D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/class'
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bignum'
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug-3571'
                                                  D | installing default rb_fatal libraries
                                                  D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug-5832'
                                                  D | installing default bug libraries
            26000: |2
                               [Builder: chef-dk] I | Rewrite Gemfile using all properly-installed gems: 2.1537s
                               [Builder: chef-dk] I | Build chef-dk: 207.6418s
              /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/files/chef-dk/build-chef-dk.rb:121:in `block in install_shared_gemfile': undefined local variable or method `shared_gemfile' for #<Omnibus::Builder:0x007f1aaf666fe0> (NameError)
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `instance_eval'
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `block in block'
            26036: |2
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `load'
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-6/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `<main>'
              Build step 'Invoke XShell command' marked build as failure
              Archiving artifacts
              Recording fingerprints
      el-7:
        result: FAILURE
        failure_category: unknown
        failure_cause: unknown
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=el-7,project=chefdk,role=builder/186/
        duration: 18m1s
        logs:
          consoleText:
            244: |2
                                       [Software] I | Loading software `chef-dk-complete' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                                       [Software] I | Loading software `chef-dk' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                       [Software] I | Loading software `libxml2' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libxml2.rb' using overrides from chefdk.
                                       [Software] I | Loading software `zlib' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/zlib.rb' using overrides from chefdk.
            262: |2
                                       [Software] I | Loading software `libtool' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libtool.rb' using overrides from chefdk.
                                       [Software] I | Loading software `config_guess' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/config_guess.rb' using overrides from chefdk.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                       [Software] I | Loading software `libyaml' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libyaml.rb' using overrides from chefdk.
                                       [Software] I | Loading software `rubygems' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/rubygems.rb' using overrides from chefdk.
            305: |2
                              [Software: openssl] I | Resolving manifest entry for openssl
                         [Software: config_guess] I | Resolving manifest entry for config_guess
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                     [GitFetcher] I | $ git ls-remote "http://git.savannah.gnu.org/r/config.git" "master*"
                              [Software: libtool] I | Resolving manifest entry for libtool
            392: |
              [PathFetcher: chef-dk-gem-yajl-ruby] I | Digesting /var/cache/omnibus/src/chef-dk-gem-yajl-ruby with sha256
                              [Software: chef-dk] I | Resolving manifest entry for chef-dk
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                           [PathFetcher: chef-dk] I | Digesting /var/cache/omnibus/src/chef-dk with sha256
                           [PathFetcher: chef-dk] I | Digesting /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder with sha256
            7896: |2
                         [GitCache: config_guess] I | $ git -c core.autocrlf=false --git-dir=/var/cache/omnibus/cache/git_cache/opt/chefdk --work-tree=/opt/chefdk add -A -f
                         [GitCache: config_guess] I | Calculating tag
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [GitCache: config_guess] I | dep_list: ["preparation", "zlib", "libiconv", "liblzma", "libxml2", "libxslt", "libarchive", "cacerts", "xproto", "util-macros", "pkg-config-lite", "makedepend", "openssl"]
                         [GitCache: config_guess] I | tag: config_guess-e05df01d72b122721c9ed73fdb48ab7391c97b1dea1a0ea97798cbb401b5678b
            9679: |2
                                                  D | compiling ./enc/trans/gbk.c
                                                  D | compiling ./enc/iso_8859_2.c
                                                  D | configuring -test-/fatal
                                                  D | configuring -test-/file
                                                  D | configuring -test-/funcall
            9890: |2
                                                  D | compiling init.c
                                                  D | installing default bignum libraries
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | linking shared-object -test-/debug.so
                                                  D | linking shared-object -test-/bignum.so
            9912: |2
                                                  D | compiling init.c
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/load/dot.dot'
                                                  D | linking shared-object -test-/fatal/rb_fatal.so
                                                  D | compiling usrcompat.c
                                                  D | compiling dot.dot.c
            9949: |2
                                                  D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/funcall'
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/path_to_class'
                                                  D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | linking shared-object -test-/method.so
                                                  D | compiling path_to_class.c
            10423: |2
                                                  D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/dln/empty'
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/file'
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | installing default file libraries
                                                  D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/file'
                                                  D | gmake[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/funcall'
                                                  D | installing default rb_fatal libraries
                                                  D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | installing default funcall libraries
                                                  D | gmake[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/funcall'
            26352: |2
                               [Builder: chef-dk] I | Rewrite Gemfile using all properly-installed gems: 1.3636s
                               [Builder: chef-dk] I | Build chef-dk: 141.2111s
              /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/files/chef-dk/build-chef-dk.rb:121:in `block in install_shared_gemfile': undefined local variable or method `shared_gemfile' for #<Omnibus::Builder:0x007f4b4e78fe60> (NameError)
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `instance_eval'
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `block in block'
            26388: |2
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `load'
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/el-7/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `<main>'
              Build step 'Invoke XShell command' marked build as failure
              Archiving artifacts
              Recording fingerprints
      mac_os_x-10.9:
        result: FAILURE
        failure_category: unknown
        failure_cause: unknown
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=mac_os_x-10.9,project=chefdk,role=builder/186/
        duration: 15m59s
        logs:
          consoleText:
            244: |2
                                       [Software] I | Loading software `chef-dk-complete' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                                       [Software] I | Loading software `chef-dk' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                       [Software] I | Loading software `libxml2' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libxml2.rb' using overrides from chefdk.
                                       [Software] I | Loading software `zlib' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/zlib.rb' using overrides from chefdk.
            262: |2
                                       [Software] I | Loading software `libtool' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libtool.rb' using overrides from chefdk.
                                       [Software] I | Loading software `config_guess' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/config_guess.rb' using overrides from chefdk.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                       [Software] I | Loading software `libyaml' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libyaml.rb' using overrides from chefdk.
                                       [Software] I | Loading software `rubygems' from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/rubygems.rb' using overrides from chefdk.
            305: |2
                              [Software: openssl] I | Resolving manifest entry for openssl
                         [Software: config_guess] I | Resolving manifest entry for config_guess
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                     [GitFetcher] I | $ git ls-remote "http://git.savannah.gnu.org/r/config.git" "master*"
                              [Software: libtool] I | Resolving manifest entry for libtool
            390: |
              [PathFetcher: chef-dk-gem-yajl-ruby] I | Digesting /var/cache/omnibus/src/chef-dk-gem-yajl-ruby with sha256
              [PathFetcher: chef-dk-gem-yajl-ruby] I | Digesting /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
              [PathFetcher: chef-dk-gem-ruby-shadow] I | Digesting /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/files/chef-dk-gem with sha256
                  [PathFetcher: chef-dk-gem-json] I | Copying from `/Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/files/chef-dk-gem'
            8701: |2
                         [GitCache: config_guess] I | $ git -c core.autocrlf=false --git-dir=/var/cache/omnibus/cache/git_cache/opt/chefdk --work-tree=/opt/chefdk add -A -f
                         [GitCache: config_guess] I | Calculating tag
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [GitCache: config_guess] I | dep_list: ["preparation", "zlib", "libiconv", "liblzma", "libxml2", "libxslt", "libarchive", "cacerts", "xproto", "util-macros", "pkg-config-lite", "makedepend", "openssl"]
                         [GitCache: config_guess] I | tag: config_guess-8c4e9084913c9f51f00988da9fa8add49a6fcd77ada3fd532163a1d2a47e1193
            11779: |2
                                                  D | configuring -test-/dln/empty
                                                  D | configuring -test-/exception
                                                  D | configuring -test-/fatal
                                                  D | configuring -test-/file
                                                  D | compiling ./enc/trans/emoji_sjis_kddi.c
            11984: |2
                                                  D | compiling stat.c
                                                  D | installing default dot.dot libraries
                                                  D | linking shared-object -test-/fatal/rb_fatal.bundle
                                                  D | linking shared-object -test-/load/dot.dot/dot.dot.bundle
                                                  D | compiling ensured.c
            29633: |2
                               [Builder: chef-dk] I | Rewrite Gemfile using all properly-installed gems: 0.9009s
                               [Builder: chef-dk] I | Build chef-dk: 119.1174s
              /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/files/chef-dk/build-chef-dk.rb:121:in `block in install_shared_gemfile': undefined local variable or method `shared_gemfile' for #<Omnibus::Builder:0x007f900ba81d60> (NameError)
                from /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `instance_eval'
                from /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `block in block'
            29669: |2
                from /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `load'
                from /Users/jenkins/workspace/chefdk-build/architecture/x86_64/platform/mac_os_x-10.9/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `<main>'
              Build step 'Invoke XShell command' marked build as failure
              Archiving artifacts
              Recording fingerprints
      ubuntu-12.04:
        result: FAILURE
        failure_category: network
        failure_cause: network reset rubygems.org
        url: http://manhattan.ci.chef.co/job/chefdk-build/architecture=x86_64,platform=ubuntu-12.04,project=chefdk,role=builder/186/
        duration: 20m50s
        logs:
          consoleText:
            242: |2
                                       [Software] I | Loading software `chef-dk-complete' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/config/software/chef-dk-complete.rb' using overrides from chefdk.
                                       [Software] I | Loading software `chef-dk' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/config/software/chef-dk.rb' using overrides from chefdk.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                       [Software] I | Loading software `libxml2' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libxml2.rb' using overrides from chefdk.
                                       [Software] I | Loading software `zlib' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/zlib.rb' using overrides from chefdk.
            260: |2
                                       [Software] I | Loading software `libtool' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libtool.rb' using overrides from chefdk.
                                       [Software] I | Loading software `config_guess' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/config_guess.rb' using overrides from chefdk.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                       [Software] I | Loading software `libyaml' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/libyaml.rb' using overrides from chefdk.
                                       [Software] I | Loading software `rubygems' from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bundler/gems/omnibus-software-0e03409b6e11/config/software/rubygems.rb' using overrides from chefdk.
            306: |2
                         [Software: config_guess] I | Resolving manifest entry for config_guess
                               [Software: libffi] I | Resolving manifest entry for libffi
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                                     [GitFetcher] I | $ git ls-remote "http://git.savannah.gnu.org/r/config.git" "master*"
                                 [Software: ruby] I | Resolving manifest entry for ruby
            384: |
              [PathFetcher: chef-dk-gem-binding_of_caller] I | Digesting /var/cache/omnibus/src/chef-dk-gem-binding_of_caller with sha256
                              [Software: chef-dk] I | Resolving manifest entry for chef-dk
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
              [Software: chef-dk-gem-ruby-shadow] I | Resolving manifest entry for chef-dk-gem-ruby-shadow
              [PathFetcher: chef-dk-gem-ruby-shadow] I | Digesting /var/cache/omnibus/src/chef-dk-gem-ruby-shadow with sha256
            393: |2
               [PathFetcher: chef-dk-gem-hitimes] I | Digesting /var/cache/omnibus/src/chef-dk-gem-hitimes with sha256
                  [PathFetcher: chef-dk-gem-json] I | Copying from `/home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/files/chef-dk-gem'
                              [Software: chef-dk] W | Version local_source for software chef-dk was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                           [PathFetcher: chef-dk] I | Digesting /var/cache/omnibus/src/chef-dk with sha256
                           [PathFetcher: chef-dk] I | Digesting /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder with sha256
            7679: |2
                         [GitCache: config_guess] I | $ git -c core.autocrlf=false --git-dir=/var/cache/omnibus/cache/git_cache/opt/chefdk --work-tree=/opt/chefdk add -A -f
                         [GitCache: config_guess] I | Calculating tag
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [Software: config_guess] W | Version master for software config_guess was not parseable. Comparison methods such as #satisfies? will not be available for this version.
                         [GitCache: config_guess] I | dep_list: ["preparation", "zlib", "libiconv", "liblzma", "libxml2", "libxslt", "libarchive", "cacerts", "xproto", "util-macros", "pkg-config-lite", "makedepend", "openssl"]
                         [GitCache: config_guess] I | tag: config_guess-368eab99bf1437a1e5c05d144a76cb603366ae0c7c47a6636239abb8b93cb13f
            9577: |2
                                                  D | linking transcoder japanese_euc.so
                                                  D | compiling ./enc/iso_8859_16.c
                                                  D | configuring -test-/fatal
                                                  D | configuring -test-/file
                                                  D | configuring -test-/funcall
            9750: |2
                                                  D | linking shared-object -test-/bignum.so
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/array/resize'
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug-5832'
                                                  D | installing default debug libraries
            9760: |2
                                                  D | installing default rb_fatal libraries
                                                  D | compiling enc_raise.c
                                                  D | linking shared-object -test-/fatal/rb_fatal.so
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/funcall'
                                                  D | compiling passing_block.c
            9784: |2
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug_reporter'
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/marshal/usr'
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/method'
                                                  D | compiling break.c
            10263: |2
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bug-5832'
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/dln/empty'
                                                  D | make[2]: Entering directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | installing default resize libraries
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/array/resize'
            10272: |2
                                                  D | installing default bignum libraries
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/bignum'
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/fatal'
                                                  D | installing default file libraries
                                                  D | make[2]: Leaving directory `/var/cache/omnibus/src/ruby/ruby-2.1.8/ext/-test-/file'
            16794: |2
                                                  D | 2:  solve (2.0.3) from /opt/chefdk/embedded/lib/ruby/gems/2.1.0/specifications/solve-2.0.3.gemspec
                                                  D |
                                                  D | Gem::RemoteFetcher::FetchError: Errno::ECONNRESET: Connection reset by peer - SSL_connect (https://rubygems.org/gems/rb-inotify-0.9.7.gem)
                                                  D | /opt/chefdk/embedded/lib/ruby/site_ruby/2.1.0/rubygems/remote_fetcher.rb:302:in `rescue in fetch_path'
                                                  D | /opt/chefdk/embedded/lib/ruby/site_ruby/2.1.0/rubygems/remote_fetcher.rb:275:in `fetch_path'
            16866: |2
                                                  D | continue.
                                                  D | Make sure that `gem install rb-inotify -v '0.9.7'` succeeds before bundling.
                               [Builder: chef-dk] W | [1/3] Failed to execute command. Retrying in 10 seconds...
                               [Builder: chef-dk] I | Environment:
                               [Builder: chef-dk] I |   BUNDLE_GEMFILE="/var/cache/omnibus/src/chef-dk/Gemfile"
            26481: |2
                               [Builder: chef-dk] I | Rewrite Gemfile using all properly-installed gems: 1.5937s
                               [Builder: chef-dk] I | Build chef-dk: 215.8181s
              /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/files/chef-dk/build-chef-dk.rb:121:in `block in install_shared_gemfile': undefined local variable or method `shared_gemfile' for #<Omnibus::Builder:0x007f0640006890> (NameError)
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `instance_eval'
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/files/chef-dk-gem/build-chef-dk-gem.rb:66:in `block in block'
            26517: |2
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `load'
                from /home/jenkins/workspace/chefdk-build/architecture/x86_64/platform/ubuntu-12.04/project/chefdk/role/builder/omnibus/vendor/bundle/ruby/2.1.0/bin/omnibus:23:in `<main>'
              Build step 'Invoke XShell command' marked build as failure
              Archiving artifacts
              Recording fingerprints
  chefdk-trigger-ad_hoc:
    result: SUCCESS
    url: http://manhattan.ci.chef.co/job/chefdk-trigger-ad_hoc/107/
    duration: 4s
successful_logs_analyzed: false
