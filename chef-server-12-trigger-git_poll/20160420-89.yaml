---
result: FAILURE
timestamp: '2016-04-20T12:10:08-07:00'
duration: 9511.355000000001
version: 12.5.0+20160420191033
git_commit: 4a3a6e69d773a2baa46f1306919f535bb33c8e20
stages:
  chef-server-12-test:
    result: FAILURE
    failures:
      unknown: all
    timestamp: '2016-04-20T13:25:26-07:00'
    duration: 5007.179
    url: http://wilson.ci.chef.co/job/chef-server-12-test/189/
    parameters:
      OMNIBUS_BUILD_VERSION: 12.5.0+20160420191033
      DELIVERY_CHANGE: ''
      DELIVERY_SHA: ''
      GIT_REF: origin/master
      APPEND_TIMESTAMP: true
      EXPIRE_CACHE: 'false'
      RELEASE_BUILD: 'false'
      PIPELINE_NAME: chef-server-12
      GIT_COMMIT: 4a3a6e69d773a2baa46f1306919f535bb33c8e20
      PROJECT: chef-server
      PROMOTE: 'true'
      PIPELINE_TRIGGER_BUILD_NUMBER: '89'
      GIT_BRANCH: origin/master
      PIPELINE_TRIGGER_JOB_NAME: chef-server-12-trigger-git_poll
      BUILD_USER: SCMTrigger
      PLATFORM_MAPPINGS_JSON: |-
        {
          "build_to_test": {
            "ubuntu-10.04": [
              "ubuntu-10.04",
              "ubuntu-12.04",
              "ubuntu-14.04"
            ],
            "el-5": [
              "el-5"
            ],
            "el-6": [
              "el-6"
            ],
            "el-7": [
              "el-7"
            ]
          },
          "test_to_build": {
            "ubuntu-10.04": "ubuntu-10.04",
            "ubuntu-12.04": "ubuntu-10.04",
            "ubuntu-14.04": "ubuntu-10.04",
            "el-5": "el-5",
            "el-6": "el-6",
            "el-7": "el-7"
          }
        }
      PIPELINE_BUILD_JOB_NUMBER: '226'
      PIPELINE_BUILD_JOB_NAME: chef-server-12-build
      PIPELINE_RUN_FINGERPRINT: jenkins-chef-server-12-trigger-git_poll-89/89/2016-04-20_19-10-08
    runs:
      el-5:
        result: FAILURE
        timestamp: '2016-04-20T13:25:26-07:00'
        duration: 5003.491
        builtOn: chef-server-rhel-5-tester-4e6602
        url: http://wilson.ci.chef.co/job/chef-server-12-test/architecture=x86_64,platform=el-5,project=chef-server,role=tester/189/
        failureCause:
          jenkinsBuildStep: Invoke XShell command
          suspiciousBlocks:
            385: "[2016-04-20T16:30:33-04:00] INFO: GET /organizations/chef/nodes/ip-10-194-15-112.us-west-2.compute.internal\n[2016-04-20T16:30:33-04:00]
              INFO: #<ChefZero::RestErrorResponse: 404: Object not found: chefzero://localhost:8889/nodes/ip-10-194-15-112.us-west-2.compute.internal>\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
              `rescue in get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
              `get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
              `block in app'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `handle_socketless_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
              `block in send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
              `block in retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `loop'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
              `send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
              `load'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
              `find_or_create'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
              `run_with_graceful_exit_option'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
              `block in run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
              `with_server_connectivity'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
              `run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
              `run_application'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
              `<top (required)>'\n/opt/opscode/embedded/bin/chef-client:23:in `load'\n/opt/opscode/embedded/bin/chef-client:23:in
              `<main>'\n[2016-04-20T16:30:33-04:00] INFO: \n--- RESPONSE (404) ---\n"
            4370: |2

                        if attempt == 120
                            raise 'ERROR: Timeout waiting for DRBD mount to return'
                        end
                        print '.'
            4488: |2+
                  rescue Exception => e
                    message = <<-EOF
              ERROR:
              The /var/opt/opscode/upgrades/migration-level file is missing or corrupt!  Please read http://docs.getchef.com/install_server_pre.html and correct this file before proceeding

            4806: |
              if File.exists?("/etc/opscode/chef-server.json") &&
                  !(File.exist?("/etc/opscode/private-chef.rb") || File.exist?("/etc/opscode/chef-server.rb"))
                Chef::Log.fatal("Configuration via /etc/opscode/chef-server.json is not supported. Please use /etc/opscode/chef-server.rb")
                exit!(1)
              else
            6768: |2
                      `echo 'SELECT * FROM pg_database;' | su - #{node['private_chef']['postgresql']['username']} -c '/opt/opscode/embedded/bin/psql -p #{node['private_chef']['postgresql']['port']} -U #{node['private_chef']['postgresql']['db_superuser']} postgres -t -A'`
                if $?.exitstatus != 0
                        Chef::Log.fatal("Could not connect to database, retrying in 10 seconds.")
                        sleep 10
                      else
            6777: |2

                    unless connectable
                      Chef::Log.fatal <<-ERR

              Could not connect to the postgresql database.
            7210: |2

                  if !connected
                    Chef::Log.fatal("HAProxy status socket never appeared properly!")
                    Chef::Log.fatal("See /var/log/opscode/haproxy/current for more information")
                    Kernel.exit! 1
                  end
            7261: |2

                  if !stable
                    Chef::Log.fatal("HAProxy still showing multiple active backends")
                    Chef::Log.fatal("Please check /var/log/opscode/haproxy/current locally for problems.")
                    Chef::Log.fatal("Please check your backend cluster's status for problems.")
                    Kernel.exit! 1
                  end
            7563: |2
                      elsif PrivateChef['backend_vips']['ipaddress'] =~ /\:/
                        # IPv6 addresses must have the mask
                        Chef::Log.fatal("backend_vip ipaddress field appears to be a IPv6 address without a netmask  (e.g /64, /48)")
                        exit 66
                      else
            7576: |2
                  def generate_hex_if_bootstrap(chars, ha_guard)
                    if ha_guard
                      Chef::Log.fatal("Attempt to create secrets on non-bootstrap node in an H/A topology, please copy /etc/opscode/* around instead.")
                      exit 44
                    end
            7964: |2
                  def assert_server_config(node_name)
                    unless PrivateChef["servers"].key?(node_name)
                      Chef::Log.fatal <<-EOF
              No server configuration found for "#{node_name}" in /etc/opscode/chef-server.rb.
              Server configuration exists for the following hostnames:
            7991: |2
                        gen_api_fqdn
                      else
                        Chef::Log.fatal("I do not understand topology #{PrivateChef.topology} - try standalone, manual, ha, or tier.")
                        exit 55
                      end
            10440: |2
                    # use of exit! prevents exit handlers from running, ensuring the last thing
                    # the customer sees is the descriptive error we've provided.
                    Chef::Log.fatal("\n\n#{LINE_SEP}\n#{e.message}#{LINE_SEP}")
                    exit! 128
                  end
            17496: |2+

              #------------------------------------------------------------------------------
              # ERROR REPORTING AND LOGGING
              #------------------------------------------------------------------------------

            17567: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic

            17581: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic (effectively off)

            17770: |2+

              #------------------------------------------------------------------------------
              # ERROR HANDLING
              #------------------------------------------------------------------------------

            18035: |2

                if [ ! -d "$OCF_ROOT" ]; then
                  ha_log "ERROR: OCF_ROOT points to non-directory $OCF_ROOT."
                  exit $OCF_ERR_GENERIC
                fi
            18055: |2

                if [ -z "$OCF_RESOURCE_INSTANCE" ]; then
                  ha_log "ERROR: Need to tell us our resource instance name."
                  exit $OCF_ERR_ARGS
                fi
            18092: |2
                        loglevel=notice
                        case "${*}" in
                          *ERROR*)    loglevel=err;;
                          *WARN*)   loglevel=warning;;
                          *INFO*|info)  loglevel=info;;
            18191: |2
                      case "${__OCF_PRIO}" in
                        crit) __OCF_PRIO="CRIT";;
                        err)  __OCF_PRIO="ERROR";;
                        warn) __OCF_PRIO="WARNING";;
                        info) __OCF_PRIO="INFO";;
            29708: |2

                if node['fqdn'].nil?
                  Chef::Log.fatal("This node's fqdn is set to nil, so a read token cannot be issued!" \
                                  "Please change your fqdn settings.")
                end
            50673: |
              rspec ./spec/api/search/word_break_spec.rb[1:1:60:7] # Search API endpoint word break handling when searching for attribute an attribute key containing the special character '\' with a wildcard in attribute key after the special char with prefixing match, should find the node

              Build step 'Invoke XShell command' marked build as failure
              Performing Post build task...
              Match found for : : True
        failureReason:
          jenkinsBuildStep: Invoke XShell command
          stacktrace:
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
            `rescue in get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
            `get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
            `block in app'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `handle_socketless_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
            `block in send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
            `block in retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `loop'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
            `send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
            `load'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
            `find_or_create'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
            `run_with_graceful_exit_option'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
            `block in run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
            `with_server_connectivity'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
            `run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
            `run_application'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
            `<top (required)>'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `load'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `<main>'"
        omnibusTiming: {}
      el-6:
        result: FAILURE
        timestamp: '2016-04-20T13:25:26-07:00'
        duration: 3953.641
        builtOn: chef-server-rhel-6-tester-8151c8
        url: http://wilson.ci.chef.co/job/chef-server-12-test/architecture=x86_64,platform=el-6,project=chef-server,role=tester/189/
        failureCause:
          jenkinsBuildStep: Invoke XShell command
          suspiciousBlocks:
            372: "[2016-04-20T16:25:12-04:00] INFO: GET /organizations/chef/nodes/ip-10-194-9-233.us-west-2.compute.internal\n[2016-04-20T16:25:12-04:00]
              INFO: #<ChefZero::RestErrorResponse: 404: Object not found: chefzero://localhost:8889/nodes/ip-10-194-9-233.us-west-2.compute.internal>\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
              `rescue in get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
              `get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
              `block in app'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `handle_socketless_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
              `block in send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
              `block in retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `loop'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
              `send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
              `load'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
              `find_or_create'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
              `run_with_graceful_exit_option'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
              `block in run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
              `with_server_connectivity'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
              `run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
              `run_application'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
              `<top (required)>'\n/opt/opscode/embedded/bin/chef-client:23:in `load'\n/opt/opscode/embedded/bin/chef-client:23:in
              `<main>'\n[2016-04-20T16:25:12-04:00] INFO: \n--- RESPONSE (404) ---\n"
            4431: |2+
                  rescue Exception => e
                    message = <<-EOF
              ERROR:
              The /var/opt/opscode/upgrades/migration-level file is missing or corrupt!  Please read http://docs.getchef.com/install_server_pre.html and correct this file before proceeding

            5258: |2

                        if attempt == 120
                            raise 'ERROR: Timeout waiting for DRBD mount to return'
                        end
                        print '.'
            5634: |
              if File.exists?("/etc/opscode/chef-server.json") &&
                  !(File.exist?("/etc/opscode/private-chef.rb") || File.exist?("/etc/opscode/chef-server.rb"))
                Chef::Log.fatal("Configuration via /etc/opscode/chef-server.json is not supported. Please use /etc/opscode/chef-server.rb")
                exit!(1)
              else
            6697: |2

                  if !connected
                    Chef::Log.fatal("HAProxy status socket never appeared properly!")
                    Chef::Log.fatal("See /var/log/opscode/haproxy/current for more information")
                    Kernel.exit! 1
                  end
            6748: |2

                  if !stable
                    Chef::Log.fatal("HAProxy still showing multiple active backends")
                    Chef::Log.fatal("Please check /var/log/opscode/haproxy/current locally for problems.")
                    Chef::Log.fatal("Please check your backend cluster's status for problems.")
                    Kernel.exit! 1
                  end
            7504: |2
                      `echo 'SELECT * FROM pg_database;' | su - #{node['private_chef']['postgresql']['username']} -c '/opt/opscode/embedded/bin/psql -p #{node['private_chef']['postgresql']['port']} -U #{node['private_chef']['postgresql']['db_superuser']} postgres -t -A'`
                if $?.exitstatus != 0
                        Chef::Log.fatal("Could not connect to database, retrying in 10 seconds.")
                        sleep 10
                      else
            7513: |2

                    unless connectable
                      Chef::Log.fatal <<-ERR

              Could not connect to the postgresql database.
            7800: |2
                      elsif PrivateChef['backend_vips']['ipaddress'] =~ /\:/
                        # IPv6 addresses must have the mask
                        Chef::Log.fatal("backend_vip ipaddress field appears to be a IPv6 address without a netmask  (e.g /64, /48)")
                        exit 66
                      else
            7813: |2
                  def generate_hex_if_bootstrap(chars, ha_guard)
                    if ha_guard
                      Chef::Log.fatal("Attempt to create secrets on non-bootstrap node in an H/A topology, please copy /etc/opscode/* around instead.")
                      exit 44
                    end
            8201: |2
                  def assert_server_config(node_name)
                    unless PrivateChef["servers"].key?(node_name)
                      Chef::Log.fatal <<-EOF
              No server configuration found for "#{node_name}" in /etc/opscode/chef-server.rb.
              Server configuration exists for the following hostnames:
            8228: |2
                        gen_api_fqdn
                      else
                        Chef::Log.fatal("I do not understand topology #{PrivateChef.topology} - try standalone, manual, ha, or tier.")
                        exit 55
                      end
            8943: |2
                    # use of exit! prevents exit handlers from running, ensuring the last thing
                    # the customer sees is the descriptive error we've provided.
                    Chef::Log.fatal("\n\n#{LINE_SEP}\n#{e.message}#{LINE_SEP}")
                    exit! 128
                  end
            17858: |2

                if [ ! -d "$OCF_ROOT" ]; then
                  ha_log "ERROR: OCF_ROOT points to non-directory $OCF_ROOT."
                  exit $OCF_ERR_GENERIC
                fi
            17878: |2

                if [ -z "$OCF_RESOURCE_INSTANCE" ]; then
                  ha_log "ERROR: Need to tell us our resource instance name."
                  exit $OCF_ERR_ARGS
                fi
            17915: |2
                        loglevel=notice
                        case "${*}" in
                          *ERROR*)    loglevel=err;;
                          *WARN*)   loglevel=warning;;
                          *INFO*|info)  loglevel=info;;
            18014: |2
                      case "${__OCF_PRIO}" in
                        crit) __OCF_PRIO="CRIT";;
                        err)  __OCF_PRIO="ERROR";;
                        warn) __OCF_PRIO="WARNING";;
                        info) __OCF_PRIO="INFO";;
            19758: |2+

              #------------------------------------------------------------------------------
              # ERROR REPORTING AND LOGGING
              #------------------------------------------------------------------------------

            19829: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic

            19843: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic (effectively off)

            20032: |2+

              #------------------------------------------------------------------------------
              # ERROR HANDLING
              #------------------------------------------------------------------------------

            29538: |2

                if node['fqdn'].nil?
                  Chef::Log.fatal("This node's fqdn is set to nil, so a read token cannot be issued!" \
                                  "Please change your fqdn settings.")
                end
            51780: |
              rspec ./spec/api/search/word_break_spec.rb[1:1:60:7] # Search API endpoint word break handling when searching for attribute an attribute key containing the special character '\' with a wildcard in attribute key after the special char with prefixing match, should find the node

              Build step 'Invoke XShell command' marked build as failure
              Performing Post build task...
              Match found for : : True
        failureReason:
          jenkinsBuildStep: Invoke XShell command
          stacktrace:
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
            `rescue in get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
            `get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
            `block in app'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `handle_socketless_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
            `block in send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
            `block in retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `loop'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
            `send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
            `load'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
            `find_or_create'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
            `run_with_graceful_exit_option'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
            `block in run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
            `with_server_connectivity'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
            `run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
            `run_application'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
            `<top (required)>'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `load'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `<main>'"
        omnibusTiming: {}
      el-7:
        result: FAILURE
        timestamp: '2016-04-20T13:25:26-07:00'
        duration: 2726.152
        builtOn: chef-server-rhel-7-tester-d586ce
        url: http://wilson.ci.chef.co/job/chef-server-12-test/architecture=x86_64,platform=el-7,project=chef-server,role=tester/189/
        failureCause:
          jenkinsBuildStep: Invoke XShell command
          suspiciousBlocks:
            50615: |
              warning: file /opt/opscode/embedded/lib/ruby/gems/2.1.0/doc/nokogiri-1.6.7.2/ri/Nokogiri/XML/SyntaxError/int1-i.ri: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/ruby/gems/2.1.0/doc/nokogiri-1.6.7.2/ri/Nokogiri/XML/SyntaxError/file-i.ri: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/ruby/gems/2.1.0/doc/nokogiri-1.6.7.2/ri/Nokogiri/XML/SyntaxError/fatal%3f-i.ri: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/ruby/gems/2.1.0/doc/nokogiri-1.6.7.2/ri/Nokogiri/XML/SyntaxError/error%3f-i.ri: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/ruby/gems/2.1.0/doc/nokogiri-1.6.7.2/ri/Nokogiri/XML/SyntaxError/domain-i.ri: remove failed: No such file or directory
            57825: |
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/auto/Test/File/.packlist: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/auto/Test/File: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/auto/Test/Fatal/.packlist: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/auto/Test/Fatal: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/auto/Test/Exception/.packlist: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/auto/Test/Exception: remove failed: No such file or directory
            58771: |
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/.meta/Test-File-1.44/MYMETA.json: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/.meta/Test-File-1.44: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/.meta/Test-Fatal-0.014/install.json: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/.meta/Test-Fatal-0.014/MYMETA.json: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/.meta/Test-Fatal-0.014: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/.meta/Test-Exception-0.43/install.json: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/x86_64-linux-thread-multi/.meta/Test-Exception-0.43/MYMETA.json: remove failed: No such file or directory
            59153: |
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/Test/File.pm: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/Test/File: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/Test/Fatal.pm: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/Test/Exception.pm: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/site_perl/5.18.1/Test/Dir/Base.pm: remove failed: No such file or directory
            62979: |
              warning: file /opt/opscode/embedded/lib/perl5/5.18.1/File/Basename.pm: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/5.18.1/File: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/5.18.1/Fatal.pm: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/5.18.1/ExtUtils/xsubpp: remove failed: No such file or directory
              warning: file /opt/opscode/embedded/lib/perl5/5.18.1/ExtUtils/typemap: remove failed: No such file or directory
            72416: "[2016-04-20T16:29:16-04:00] INFO: GET /organizations/chef/nodes/ip-10-194-10-226.us-west-2.compute.internal\n[2016-04-20T16:29:16-04:00]
              INFO: #<ChefZero::RestErrorResponse: 404: Object not found: chefzero://localhost:8889/nodes/ip-10-194-10-226.us-west-2.compute.internal>\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
              `rescue in get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
              `get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
              `block in app'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `handle_socketless_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
              `block in send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
              `block in retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `loop'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
              `send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
              `load'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
              `find_or_create'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
              `run_with_graceful_exit_option'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
              `block in run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
              `with_server_connectivity'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
              `run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
              `run_application'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
              `<top (required)>'\n/opt/opscode/embedded/bin/chef-client:23:in `load'\n/opt/opscode/embedded/bin/chef-client:23:in
              `<main>'\n[2016-04-20T16:29:16-04:00] INFO: \n--- RESPONSE (404) ---\n"
            75947: |2

                        if attempt == 120
                            raise 'ERROR: Timeout waiting for DRBD mount to return'
                        end
                        print '.'
            76889: |
              if File.exists?("/etc/opscode/chef-server.json") &&
                  !(File.exist?("/etc/opscode/private-chef.rb") || File.exist?("/etc/opscode/chef-server.rb"))
                Chef::Log.fatal("Configuration via /etc/opscode/chef-server.json is not supported. Please use /etc/opscode/chef-server.rb")
                exit!(1)
              else
            78720: |2+
                  rescue Exception => e
                    message = <<-EOF
              ERROR:
              The /var/opt/opscode/upgrades/migration-level file is missing or corrupt!  Please read http://docs.getchef.com/install_server_pre.html and correct this file before proceeding

            79158: |2
                      `echo 'SELECT * FROM pg_database;' | su - #{node['private_chef']['postgresql']['username']} -c '/opt/opscode/embedded/bin/psql -p #{node['private_chef']['postgresql']['port']} -U #{node['private_chef']['postgresql']['db_superuser']} postgres -t -A'`
                if $?.exitstatus != 0
                        Chef::Log.fatal("Could not connect to database, retrying in 10 seconds.")
                        sleep 10
                      else
            79167: |2

                    unless connectable
                      Chef::Log.fatal <<-ERR

              Could not connect to the postgresql database.
            82201: |2
                      elsif PrivateChef['backend_vips']['ipaddress'] =~ /\:/
                        # IPv6 addresses must have the mask
                        Chef::Log.fatal("backend_vip ipaddress field appears to be a IPv6 address without a netmask  (e.g /64, /48)")
                        exit 66
                      else
            82214: |2
                  def generate_hex_if_bootstrap(chars, ha_guard)
                    if ha_guard
                      Chef::Log.fatal("Attempt to create secrets on non-bootstrap node in an H/A topology, please copy /etc/opscode/* around instead.")
                      exit 44
                    end
            82602: |2
                  def assert_server_config(node_name)
                    unless PrivateChef["servers"].key?(node_name)
                      Chef::Log.fatal <<-EOF
              No server configuration found for "#{node_name}" in /etc/opscode/chef-server.rb.
              Server configuration exists for the following hostnames:
            82629: |2
                        gen_api_fqdn
                      else
                        Chef::Log.fatal("I do not understand topology #{PrivateChef.topology} - try standalone, manual, ha, or tier.")
                        exit 55
                      end
            83784: |2
                    # use of exit! prevents exit handlers from running, ensuring the last thing
                    # the customer sees is the descriptive error we've provided.
                    Chef::Log.fatal("\n\n#{LINE_SEP}\n#{e.message}#{LINE_SEP}")
                    exit! 128
                  end
            87547: |2

                if [ ! -d "$OCF_ROOT" ]; then
                  ha_log "ERROR: OCF_ROOT points to non-directory $OCF_ROOT."
                  exit $OCF_ERR_GENERIC
                fi
            87567: |2

                if [ -z "$OCF_RESOURCE_INSTANCE" ]; then
                  ha_log "ERROR: Need to tell us our resource instance name."
                  exit $OCF_ERR_ARGS
                fi
            87604: |2
                        loglevel=notice
                        case "${*}" in
                          *ERROR*)    loglevel=err;;
                          *WARN*)   loglevel=warning;;
                          *INFO*|info)  loglevel=info;;
            87703: |2
                      case "${__OCF_PRIO}" in
                        crit) __OCF_PRIO="CRIT";;
                        err)  __OCF_PRIO="ERROR";;
                        warn) __OCF_PRIO="WARNING";;
                        info) __OCF_PRIO="INFO";;
            88988: |2+

              #------------------------------------------------------------------------------
              # ERROR REPORTING AND LOGGING
              #------------------------------------------------------------------------------

            89059: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic

            89073: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic (effectively off)

            89262: |2+

              #------------------------------------------------------------------------------
              # ERROR HANDLING
              #------------------------------------------------------------------------------

            101326: |2

                if node['fqdn'].nil?
                  Chef::Log.fatal("This node's fqdn is set to nil, so a read token cannot be issued!" \
                                  "Please change your fqdn settings.")
                end
            123319: |
              rspec ./spec/api/search/word_break_spec.rb[1:1:60:7] # Search API endpoint word break handling when searching for attribute an attribute key containing the special character '\' with a wildcard in attribute key after the special char with prefixing match, should find the node

              Build step 'Invoke XShell command' marked build as failure
              Performing Post build task...
              Match found for : : True
        failureReason:
          jenkinsBuildStep: Invoke XShell command
          stacktrace:
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
            `rescue in get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
            `get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
            `block in app'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `handle_socketless_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
            `block in send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
            `block in retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `loop'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
            `send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
            `load'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
            `find_or_create'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
            `run_with_graceful_exit_option'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
            `block in run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
            `with_server_connectivity'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
            `run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
            `run_application'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
            `<top (required)>'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `load'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `<main>'"
        omnibusTiming: {}
      ubuntu-10.04:
        result: FAILURE
        timestamp: '2016-04-20T13:25:26-07:00'
        duration: 3575.702
        builtOn: chef-server-ubuntu-10.04-tester-f80d1f
        url: http://wilson.ci.chef.co/job/chef-server-12-test/architecture=x86_64,platform=ubuntu-10.04,project=chef-server,role=tester/189/
        failureCause:
          jenkinsBuildStep: Invoke XShell command
          suspiciousBlocks:
            400: "[2016-04-20T20:28:32+00:00] INFO: GET /organizations/chef/nodes/ip-10-194-13-26.us-west-2.compute.internal\n[2016-04-20T20:28:32+00:00]
              INFO: #<ChefZero::RestErrorResponse: 404: Object not found: chefzero://localhost:8889/nodes/ip-10-194-13-26.us-west-2.compute.internal>\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
              `rescue in get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
              `get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
              `block in app'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `handle_socketless_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
              `block in send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
              `block in retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `loop'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
              `send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
              `load'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
              `find_or_create'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
              `run_with_graceful_exit_option'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
              `block in run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
              `with_server_connectivity'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
              `run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
              `run_application'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
              `<top (required)>'\n/opt/opscode/embedded/bin/chef-client:23:in `load'\n/opt/opscode/embedded/bin/chef-client:23:in
              `<main>'\n[2016-04-20T20:28:32+00:00] INFO: \n--- RESPONSE (404) ---\n"
            3748: |2

                        if attempt == 120
                            raise 'ERROR: Timeout waiting for DRBD mount to return'
                        end
                        print '.'
            4960: |
              if File.exists?("/etc/opscode/chef-server.json") &&
                  !(File.exist?("/etc/opscode/private-chef.rb") || File.exist?("/etc/opscode/chef-server.rb"))
                Chef::Log.fatal("Configuration via /etc/opscode/chef-server.json is not supported. Please use /etc/opscode/chef-server.rb")
                exit!(1)
              else
            6102: |2+
                  rescue Exception => e
                    message = <<-EOF
              ERROR:
              The /var/opt/opscode/upgrades/migration-level file is missing or corrupt!  Please read http://docs.getchef.com/install_server_pre.html and correct this file before proceeding

            6236: |2

                  if !connected
                    Chef::Log.fatal("HAProxy status socket never appeared properly!")
                    Chef::Log.fatal("See /var/log/opscode/haproxy/current for more information")
                    Kernel.exit! 1
                  end
            6287: |2

                  if !stable
                    Chef::Log.fatal("HAProxy still showing multiple active backends")
                    Chef::Log.fatal("Please check /var/log/opscode/haproxy/current locally for problems.")
                    Chef::Log.fatal("Please check your backend cluster's status for problems.")
                    Kernel.exit! 1
                  end
            7292: |2
                      `echo 'SELECT * FROM pg_database;' | su - #{node['private_chef']['postgresql']['username']} -c '/opt/opscode/embedded/bin/psql -p #{node['private_chef']['postgresql']['port']} -U #{node['private_chef']['postgresql']['db_superuser']} postgres -t -A'`
                if $?.exitstatus != 0
                        Chef::Log.fatal("Could not connect to database, retrying in 10 seconds.")
                        sleep 10
                      else
            7301: |2

                    unless connectable
                      Chef::Log.fatal <<-ERR

              Could not connect to the postgresql database.
            7829: |2
                    # use of exit! prevents exit handlers from running, ensuring the last thing
                    # the customer sees is the descriptive error we've provided.
                    Chef::Log.fatal("\n\n#{LINE_SEP}\n#{e.message}#{LINE_SEP}")
                    exit! 128
                  end
            8481: |2
                      elsif PrivateChef['backend_vips']['ipaddress'] =~ /\:/
                        # IPv6 addresses must have the mask
                        Chef::Log.fatal("backend_vip ipaddress field appears to be a IPv6 address without a netmask  (e.g /64, /48)")
                        exit 66
                      else
            8494: |2
                  def generate_hex_if_bootstrap(chars, ha_guard)
                    if ha_guard
                      Chef::Log.fatal("Attempt to create secrets on non-bootstrap node in an H/A topology, please copy /etc/opscode/* around instead.")
                      exit 44
                    end
            8882: |2
                  def assert_server_config(node_name)
                    unless PrivateChef["servers"].key?(node_name)
                      Chef::Log.fatal <<-EOF
              No server configuration found for "#{node_name}" in /etc/opscode/chef-server.rb.
              Server configuration exists for the following hostnames:
            8909: |2
                        gen_api_fqdn
                      else
                        Chef::Log.fatal("I do not understand topology #{PrivateChef.topology} - try standalone, manual, ha, or tier.")
                        exit 55
                      end
            15286: |2+

              #------------------------------------------------------------------------------
              # ERROR REPORTING AND LOGGING
              #------------------------------------------------------------------------------

            15357: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic

            15371: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic (effectively off)

            15560: |2+

              #------------------------------------------------------------------------------
              # ERROR HANDLING
              #------------------------------------------------------------------------------

            16996: |2

                if [ ! -d "$OCF_ROOT" ]; then
                  ha_log "ERROR: OCF_ROOT points to non-directory $OCF_ROOT."
                  exit $OCF_ERR_GENERIC
                fi
            17016: |2

                if [ -z "$OCF_RESOURCE_INSTANCE" ]; then
                  ha_log "ERROR: Need to tell us our resource instance name."
                  exit $OCF_ERR_ARGS
                fi
            17053: |2
                        loglevel=notice
                        case "${*}" in
                          *ERROR*)    loglevel=err;;
                          *WARN*)   loglevel=warning;;
                          *INFO*|info)  loglevel=info;;
            17152: |2
                      case "${__OCF_PRIO}" in
                        crit) __OCF_PRIO="CRIT";;
                        err)  __OCF_PRIO="ERROR";;
                        warn) __OCF_PRIO="WARNING";;
                        info) __OCF_PRIO="INFO";;
            30005: |2

                if node['fqdn'].nil?
                  Chef::Log.fatal("This node's fqdn is set to nil, so a read token cannot be issued!" \
                                  "Please change your fqdn settings.")
                end
            50768: |
              rspec ./spec/api/search/word_break_spec.rb[1:1:60:7] # Search API endpoint word break handling when searching for attribute an attribute key containing the special character '\' with a wildcard in attribute key after the special char with prefixing match, should find the node

              Build step 'Invoke XShell command' marked build as failure
              Performing Post build task...
              Match found for : : True
        failureReason:
          jenkinsBuildStep: Invoke XShell command
          stacktrace:
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
            `rescue in get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
            `get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
            `block in app'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `handle_socketless_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
            `block in send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
            `block in retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `loop'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
            `send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
            `load'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
            `find_or_create'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
            `run_with_graceful_exit_option'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
            `block in run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
            `with_server_connectivity'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
            `run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
            `run_application'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
            `<top (required)>'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `load'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `<main>'"
        omnibusTiming: {}
      ubuntu-12.04:
        result: FAILURE
        timestamp: '2016-04-20T13:25:26-07:00'
        duration: 3034.019
        builtOn: chef-server-ubuntu-12.04-tester-28c735
        url: http://wilson.ci.chef.co/job/chef-server-12-test/architecture=x86_64,platform=ubuntu-12.04,project=chef-server,role=tester/189/
        failureCause:
          jenkinsBuildStep: Invoke XShell command
          suspiciousBlocks:
            399: "[2016-04-20T20:28:57+00:00] INFO: GET /organizations/chef/nodes/ip-10-194-11-179.us-west-2.compute.internal\n[2016-04-20T20:28:57+00:00]
              INFO: #<ChefZero::RestErrorResponse: 404: Object not found: chefzero://localhost:8889/nodes/ip-10-194-11-179.us-west-2.compute.internal>\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
              `rescue in get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
              `get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
              `block in app'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `handle_socketless_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
              `block in send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
              `block in retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `loop'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
              `send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
              `load'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
              `find_or_create'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
              `run_with_graceful_exit_option'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
              `block in run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
              `with_server_connectivity'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
              `run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
              `run_application'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
              `<top (required)>'\n/opt/opscode/embedded/bin/chef-client:23:in `load'\n/opt/opscode/embedded/bin/chef-client:23:in
              `<main>'\n[2016-04-20T20:28:57+00:00] INFO: \n--- RESPONSE (404) ---\n"
            4232: |2

                        if attempt == 120
                            raise 'ERROR: Timeout waiting for DRBD mount to return'
                        end
                        print '.'
            4797: |2
                      `echo 'SELECT * FROM pg_database;' | su - #{node['private_chef']['postgresql']['username']} -c '/opt/opscode/embedded/bin/psql -p #{node['private_chef']['postgresql']['port']} -U #{node['private_chef']['postgresql']['db_superuser']} postgres -t -A'`
                if $?.exitstatus != 0
                        Chef::Log.fatal("Could not connect to database, retrying in 10 seconds.")
                        sleep 10
                      else
            4806: |2

                    unless connectable
                      Chef::Log.fatal <<-ERR

              Could not connect to the postgresql database.
            5703: |2+
                  rescue Exception => e
                    message = <<-EOF
              ERROR:
              The /var/opt/opscode/upgrades/migration-level file is missing or corrupt!  Please read http://docs.getchef.com/install_server_pre.html and correct this file before proceeding

            6979: |
              if File.exists?("/etc/opscode/chef-server.json") &&
                  !(File.exist?("/etc/opscode/private-chef.rb") || File.exist?("/etc/opscode/chef-server.rb"))
                Chef::Log.fatal("Configuration via /etc/opscode/chef-server.json is not supported. Please use /etc/opscode/chef-server.rb")
                exit!(1)
              else
            7848: |2

                  if !connected
                    Chef::Log.fatal("HAProxy status socket never appeared properly!")
                    Chef::Log.fatal("See /var/log/opscode/haproxy/current for more information")
                    Kernel.exit! 1
                  end
            7899: |2

                  if !stable
                    Chef::Log.fatal("HAProxy still showing multiple active backends")
                    Chef::Log.fatal("Please check /var/log/opscode/haproxy/current locally for problems.")
                    Chef::Log.fatal("Please check your backend cluster's status for problems.")
                    Kernel.exit! 1
                  end
            8154: |2
                      elsif PrivateChef['backend_vips']['ipaddress'] =~ /\:/
                        # IPv6 addresses must have the mask
                        Chef::Log.fatal("backend_vip ipaddress field appears to be a IPv6 address without a netmask  (e.g /64, /48)")
                        exit 66
                      else
            8167: |2
                  def generate_hex_if_bootstrap(chars, ha_guard)
                    if ha_guard
                      Chef::Log.fatal("Attempt to create secrets on non-bootstrap node in an H/A topology, please copy /etc/opscode/* around instead.")
                      exit 44
                    end
            8555: |2
                  def assert_server_config(node_name)
                    unless PrivateChef["servers"].key?(node_name)
                      Chef::Log.fatal <<-EOF
              No server configuration found for "#{node_name}" in /etc/opscode/chef-server.rb.
              Server configuration exists for the following hostnames:
            8582: |2
                        gen_api_fqdn
                      else
                        Chef::Log.fatal("I do not understand topology #{PrivateChef.topology} - try standalone, manual, ha, or tier.")
                        exit 55
                      end
            10857: |2
                    # use of exit! prevents exit handlers from running, ensuring the last thing
                    # the customer sees is the descriptive error we've provided.
                    Chef::Log.fatal("\n\n#{LINE_SEP}\n#{e.message}#{LINE_SEP}")
                    exit! 128
                  end
            18576: |2+

              #------------------------------------------------------------------------------
              # ERROR REPORTING AND LOGGING
              #------------------------------------------------------------------------------

            18647: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic

            18661: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic (effectively off)

            18850: |2+

              #------------------------------------------------------------------------------
              # ERROR HANDLING
              #------------------------------------------------------------------------------

            20038: |2

                if [ ! -d "$OCF_ROOT" ]; then
                  ha_log "ERROR: OCF_ROOT points to non-directory $OCF_ROOT."
                  exit $OCF_ERR_GENERIC
                fi
            20058: |2

                if [ -z "$OCF_RESOURCE_INSTANCE" ]; then
                  ha_log "ERROR: Need to tell us our resource instance name."
                  exit $OCF_ERR_ARGS
                fi
            20095: |2
                        loglevel=notice
                        case "${*}" in
                          *ERROR*)    loglevel=err;;
                          *WARN*)   loglevel=warning;;
                          *INFO*|info)  loglevel=info;;
            20194: |2
                      case "${__OCF_PRIO}" in
                        crit) __OCF_PRIO="CRIT";;
                        err)  __OCF_PRIO="ERROR";;
                        warn) __OCF_PRIO="WARNING";;
                        info) __OCF_PRIO="INFO";;
            29053: |2

                if node['fqdn'].nil?
                  Chef::Log.fatal("This node's fqdn is set to nil, so a read token cannot be issued!" \
                                  "Please change your fqdn settings.")
                end
            51066: |
              rspec ./spec/api/search/word_break_spec.rb[1:1:60:7] # Search API endpoint word break handling when searching for attribute an attribute key containing the special character '\' with a wildcard in attribute key after the special char with prefixing match, should find the node

              Build step 'Invoke XShell command' marked build as failure
              Performing Post build task...
              Match found for : : True
        failureReason:
          jenkinsBuildStep: Invoke XShell command
          stacktrace:
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
            `rescue in get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
            `get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
            `block in app'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `handle_socketless_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
            `block in send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
            `block in retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `loop'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
            `send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
            `load'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
            `find_or_create'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
            `run_with_graceful_exit_option'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
            `block in run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
            `with_server_connectivity'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
            `run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
            `run_application'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
            `<top (required)>'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `load'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `<main>'"
        omnibusTiming: {}
      ubuntu-14.04:
        result: FAILURE
        timestamp: '2016-04-20T13:25:26-07:00'
        duration: 3378.171
        builtOn: chef-server-ubuntu-14.04-tester-69fc04
        url: http://wilson.ci.chef.co/job/chef-server-12-test/architecture=x86_64,platform=ubuntu-14.04,project=chef-server,role=tester/189/
        failureCause:
          jenkinsBuildStep: Invoke XShell command
          suspiciousBlocks:
            427: "[2016-04-20T20:28:22+00:00] INFO: GET /organizations/chef/nodes/ip-10-194-13-226.us-west-2.compute.internal\n[2016-04-20T20:28:22+00:00]
              INFO: #<ChefZero::RestErrorResponse: 404: Object not found: chefzero://localhost:8889/nodes/ip-10-194-13-226.us-west-2.compute.internal>\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
              `rescue in get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
              `get_data'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
              `block in app'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `call'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
              `handle_socketless_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
              `block in send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
              `block in retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `loop'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
              `retrying_http_errors'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
              `send_http_request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
              `request'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
              `get'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
              `load'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
              `find_or_create'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
              `load_node'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
              `run_with_graceful_exit_option'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
              `block in run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
              `with_server_connectivity'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
              `run_chef_client'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
              `run_application'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
              `run'\n/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
              `<top (required)>'\n/opt/opscode/embedded/bin/chef-client:23:in `load'\n/opt/opscode/embedded/bin/chef-client:23:in
              `<main>'\n[2016-04-20T20:28:22+00:00] INFO: \n--- RESPONSE (404) ---\n"
            4385: |2

                  if !connected
                    Chef::Log.fatal("HAProxy status socket never appeared properly!")
                    Chef::Log.fatal("See /var/log/opscode/haproxy/current for more information")
                    Kernel.exit! 1
                  end
            4436: |2

                  if !stable
                    Chef::Log.fatal("HAProxy still showing multiple active backends")
                    Chef::Log.fatal("Please check /var/log/opscode/haproxy/current locally for problems.")
                    Chef::Log.fatal("Please check your backend cluster's status for problems.")
                    Kernel.exit! 1
                  end
            4504: |2

                        if attempt == 120
                            raise 'ERROR: Timeout waiting for DRBD mount to return'
                        end
                        print '.'
            6798: |
              if File.exists?("/etc/opscode/chef-server.json") &&
                  !(File.exist?("/etc/opscode/private-chef.rb") || File.exist?("/etc/opscode/chef-server.rb"))
                Chef::Log.fatal("Configuration via /etc/opscode/chef-server.json is not supported. Please use /etc/opscode/chef-server.rb")
                exit!(1)
              else
            6992: |2
                      `echo 'SELECT * FROM pg_database;' | su - #{node['private_chef']['postgresql']['username']} -c '/opt/opscode/embedded/bin/psql -p #{node['private_chef']['postgresql']['port']} -U #{node['private_chef']['postgresql']['db_superuser']} postgres -t -A'`
                if $?.exitstatus != 0
                        Chef::Log.fatal("Could not connect to database, retrying in 10 seconds.")
                        sleep 10
                      else
            7001: |2

                    unless connectable
                      Chef::Log.fatal <<-ERR

              Could not connect to the postgresql database.
            7342: |2+
                  rescue Exception => e
                    message = <<-EOF
              ERROR:
              The /var/opt/opscode/upgrades/migration-level file is missing or corrupt!  Please read http://docs.getchef.com/install_server_pre.html and correct this file before proceeding

            8745: |2
                    # use of exit! prevents exit handlers from running, ensuring the last thing
                    # the customer sees is the descriptive error we've provided.
                    Chef::Log.fatal("\n\n#{LINE_SEP}\n#{e.message}#{LINE_SEP}")
                    exit! 128
                  end
            8926: |2
                      elsif PrivateChef['backend_vips']['ipaddress'] =~ /\:/
                        # IPv6 addresses must have the mask
                        Chef::Log.fatal("backend_vip ipaddress field appears to be a IPv6 address without a netmask  (e.g /64, /48)")
                        exit 66
                      else
            8939: |2
                  def generate_hex_if_bootstrap(chars, ha_guard)
                    if ha_guard
                      Chef::Log.fatal("Attempt to create secrets on non-bootstrap node in an H/A topology, please copy /etc/opscode/* around instead.")
                      exit 44
                    end
            9327: |2
                  def assert_server_config(node_name)
                    unless PrivateChef["servers"].key?(node_name)
                      Chef::Log.fatal <<-EOF
              No server configuration found for "#{node_name}" in /etc/opscode/chef-server.rb.
              Server configuration exists for the following hostnames:
            9354: |2
                        gen_api_fqdn
                      else
                        Chef::Log.fatal("I do not understand topology #{PrivateChef.topology} - try standalone, manual, ha, or tier.")
                        exit 55
                      end
            13983: |2

                if [ ! -d "$OCF_ROOT" ]; then
                  ha_log "ERROR: OCF_ROOT points to non-directory $OCF_ROOT."
                  exit $OCF_ERR_GENERIC
                fi
            14003: |2

                if [ -z "$OCF_RESOURCE_INSTANCE" ]; then
                  ha_log "ERROR: Need to tell us our resource instance name."
                  exit $OCF_ERR_ARGS
                fi
            14040: |2
                        loglevel=notice
                        case "${*}" in
                          *ERROR*)    loglevel=err;;
                          *WARN*)   loglevel=warning;;
                          *INFO*|info)  loglevel=info;;
            14139: |2
                      case "${__OCF_PRIO}" in
                        crit) __OCF_PRIO="CRIT";;
                        err)  __OCF_PRIO="ERROR";;
                        warn) __OCF_PRIO="WARNING";;
                        info) __OCF_PRIO="INFO";;
            18902: |2+

              #------------------------------------------------------------------------------
              # ERROR REPORTING AND LOGGING
              #------------------------------------------------------------------------------

            18973: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic

            18987: |2+
                        #   error
                        #   log
                        #   fatal
                        #   panic (effectively off)

            19176: |2+

              #------------------------------------------------------------------------------
              # ERROR HANDLING
              #------------------------------------------------------------------------------

            29481: |2

                if node['fqdn'].nil?
                  Chef::Log.fatal("This node's fqdn is set to nil, so a read token cannot be issued!" \
                                  "Please change your fqdn settings.")
                end
            51401: |
              rspec ./spec/api/search/word_break_spec.rb[1:1:60:7] # Search API endpoint word break handling when searching for attribute an attribute key containing the special character '\' with a wildcard in attribute key after the special char with prefixing match, should find the node

              Build step 'Invoke XShell command' marked build as failure
              Performing Post build task...
              Match found for : : True
        failureReason:
          jenkinsBuildStep: Invoke XShell command
          stacktrace:
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:91:in
            `rescue in get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:83:in
            `get_data'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/endpoints/rest_object_endpoint.rb:18:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_base.rb:62:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/rest_router.rb:24:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:664:in
            `block in app'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `call'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/server.rb:336:in
            `handle_socketless_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:87:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-zero-4.6.1/lib/chef_zero/socketless_server_map.rb:33:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http/socketless_chef_zero_client.rb:154:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:305:in
            `block in send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:336:in
            `block in retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `loop'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:334:in
            `retrying_http_errors'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:299:in
            `send_http_request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:144:in
            `request'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/http.rb:111:in
            `get'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:604:in
            `load'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/node.rb:588:in
            `find_or_create'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/policy_builder/dynamic.rb:72:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:465:in
            `load_node'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/client.rb:267:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:267:in
            `run_with_graceful_exit_option'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:243:in
            `block in run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/local_mode.rb:44:in
            `with_server_connectivity'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:226:in
            `run_chef_client'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application/client.rb:419:in
            `run_application'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/lib/chef/application.rb:58:in
            `run'"
          - "/opt/opscode/embedded/lib/ruby/gems/2.1.0/gems/chef-12.10.12/bin/chef-client:26:in
            `<top (required)>'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `load'"
          - "/opt/opscode/embedded/bin/chef-client:23:in `<main>'"
        omnibusTiming: {}
  chef-server-12-build:
    result: SUCCESS
    timestamp: '2016-04-20T12:10:33-07:00'
    duration: 4486.413
    url: http://wilson.ci.chef.co/job/chef-server-12-build/226/
    parameters:
      GIT_REF: origin/master
      APPEND_TIMESTAMP: true
      DELIVERY_CHANGE: ''
      DELIVERY_SHA: ''
      EXPIRE_CACHE: 'false'
      RELEASE_BUILD: 'false'
      PIPELINE_NAME: chef-server-12
      GIT_COMMIT: 4a3a6e69d773a2baa46f1306919f535bb33c8e20
      PROJECT: chef-server
      PROMOTE: 'true'
      PIPELINE_TRIGGER_BUILD_NUMBER: '89'
      GIT_BRANCH: origin/master
      PIPELINE_TRIGGER_JOB_NAME: chef-server-12-trigger-git_poll
      BUILD_USER: SCMTrigger
    runs:
      el-5:
        result: SUCCESS
        timestamp: '2016-04-20T12:10:33-07:00'
        duration: 4244.482
        builtOn: chef-server-rhel-5-builder-dd11b6
        url: http://wilson.ci.chef.co/job/chef-server-12-build/architecture=x86_64,platform=el-5,project=chef-server,role=builder/226/
        omnibusTiming: {}
      el-6:
        result: SUCCESS
        timestamp: '2016-04-20T12:10:33-07:00'
        duration: 4425.562
        builtOn: chef-server-rhel-6-builder-f4b641
        url: http://wilson.ci.chef.co/job/chef-server-12-build/architecture=x86_64,platform=el-6,project=chef-server,role=builder/226/
        omnibusTiming: {}
      el-7:
        result: SUCCESS
        timestamp: '2016-04-20T12:10:33-07:00'
        duration: 3256.263
        builtOn: chef-server-rhel-7-builder-1d11c3
        url: http://wilson.ci.chef.co/job/chef-server-12-build/architecture=x86_64,platform=el-7,project=chef-server,role=builder/226/
        omnibusTiming: {}
      ubuntu-10.04:
        result: SUCCESS
        timestamp: '2016-04-20T12:10:33-07:00'
        duration: 3102.591
        builtOn: chef-server-ubuntu-10.04-builder-6f743f
        url: http://wilson.ci.chef.co/job/chef-server-12-build/architecture=x86_64,platform=ubuntu-10.04,project=chef-server,role=builder/226/
        omnibusTiming: {}
  chef-server-12-trigger-git_poll:
    result: SUCCESS
    timestamp: '2016-04-20T12:10:08-07:00'
    duration: 17.763
    url: http://wilson.ci.chef.co/job/chef-server-12-trigger-git_poll/89/
    causes:
    - shortDescription: Started by an SCM change
    parameters: {}
    runs: {}
